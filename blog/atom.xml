<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://archetype-lang.org/blog</id>
    <title>Archetype Documentation Blog</title>
    <updated>2023-05-03T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://archetype-lang.org/blog"/>
    <subtitle>Archetype Documentation Blog</subtitle>
    <icon>https://archetype-lang.org/img/favicon@2x.png</icon>
    <entry>
        <title type="html"><![CDATA[Version 1.4.2]]></title>
        <id>v142</id>
        <link href="https://archetype-lang.org/blog/v142"/>
        <updated>2023-05-03T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We present version 1.4.2 of Archetype language.]]></summary>
        <content type="html"><![CDATA[<p>We present version <a href="/docs/installation"><code>1.4.2</code></a> of Archetype language.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="added">Added<a class="hash-link" href="#added" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="contract-import">Contract import<a class="hash-link" href="#contract-import" title="Direct link to heading">​</a></h3><p>It is now possible to use types and entrypoints declared in another archetype contract with the <a href="/docs/reference/declarations/external-contract"><code>import</code></a> declaration.</p><p>It is also now possible to originate a contract from an Archetype source with <a href="/docs/reference/expressions/builtins#create_contract(handler,%20delegator,%20amount,%20init)"><code>create_contract</code></a> builtin.</p><p>For example, in order to import the <code>person</code> record from a contract, use the <code>import</code> declaration:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token archetype" style="color:#2FCAC3">archetype</span><span class="token plain"> anothercontract</span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token declaration" style="color:rgb(233, 72, 21)">import</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"somecontract.arl"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token declaration" style="color:rgb(233, 72, 21)">variable</span><span class="token plain"> max_age </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token type" style="color:rgb(241, 250, 140)">nat</span><span class="token plain"> = 0</span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token entry" style="color:rgb(233, 72, 21)">entry</span><span class="token plain"> register</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">p </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> somecontract</span><span class="token access" style="color:rgb(68, 134, 255)">::</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  max_age </span><span class="token function" style="color:rgb(80, 250, 123)">:=</span><span class="token plain"> </span><span class="token arith" style="color:rgb(68, 134, 255)">max</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">max_age</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> p</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">age</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="global-constants">Global constants<a class="hash-link" href="#global-constants" title="Direct link to heading">​</a></h3><p>It is now possible use global constants with <a href="/docs/reference/expressions/builtins#global_constant%3CT%3E(hash)"><code>global_constant</code></a> builtin.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="initial-support-for-tickets">Initial support for Tickets<a class="hash-link" href="#initial-support-for-tickets" title="Direct link to heading">​</a></h3><p>An initial working version of FA 2.1 with tickets is now available <a href="https://github.com/completium/archetype-fa2.1" target="_blank" rel="noopener noreferrer">here</a>.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Work in progress. Use with caution.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="improved-michelson-generation">Improved Michelson generation<a class="hash-link" href="#improved-michelson-generation" title="Direct link to heading">​</a></h3><p>Michelson output has been upgraded.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rational-api"><code>rational</code> API<a class="hash-link" href="#rational-api" title="Direct link to heading">​</a></h3><p>The <a href="/docs/reference/types#rational"><code>rational</code></a> type API has been enriched with the following builtins:</p><ul><li><a href="/docs/reference/expressions/builtins#simplify_rational(r%20:%20rational)"><code>simplify_rational</code></a></li><li><a href="/docs/reference/expressions/builtins#get_numerator(r%20:%20rational)"><code>get_numerator</code></a></li><li><a href="/docs/reference/expressions/builtins#get_denominator(r%20:%20rational)"><code>get_denominator</code></a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="list-api"><code>list</code> API<a class="hash-link" href="#list-api" title="Direct link to heading">​</a></h3><p>The <a href="/docs/reference/types#list%3CT%3E"><code>list</code></a> type API has been enriched with the following builtins:</p><ul><li><a href="/docs/reference/expressions/builtins#head(l%20:%20list%3CT%3E,%20n%20:%20nat)"><code>head</code></a></li><li><a href="/docs/reference/expressions/builtins#tail(l%20:%20list%3CT%3E,%20n%20:%20nat)"><code>tail</code></a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="removed">Removed<a class="hash-link" href="#removed" title="Direct link to heading">​</a></h2><ul><li>the formal verification language and the why3 generation have been removed</li><li><code>tx_rollup_l2_address</code> type</li></ul>]]></content>
        <author>
            <name>Benoit Rognier</name>
            <uri>https://www.linkedin.com/in/benoitrognier/</uri>
        </author>
        <author>
            <name>Guillaume Duhamel</name>
            <uri>https://www.linkedin.com/in/guillaumeduhamel/</uri>
        </author>
        <category label="version" term="version"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[TS Binding]]></title>
        <id>binding</id>
        <link href="https://archetype-lang.org/blog/binding"/>
        <updated>2023-01-02T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We are glad to present the new contract binding generation in TypeScript language. We consider this as a major improvement in the way we are working with Archetype and Michelson contracts.]]></summary>
        <content type="html"><![CDATA[<p>We are glad to present the new contract binding generation in TypeScript language. We consider this as a <em>major improvement</em> in the way we are working with Archetype and Michelson contracts.</p><p><a href="/docs/cli/introduction">Completium CLI</a> now provides a simple command to generate the TypeScript binding:</p><div class="language-completium codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-completium codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token top" style="color:#2FCAC3">completium-cli</span><span class="token plain"> </span><span class="token first" style="color:rgb(255, 184, 108)">generate</span><span class="token plain"> </span><span class="token first" style="color:rgb(255, 184, 108)">binding-ts</span><span class="token plain"> mycontract.arl &gt; mycontract.ts</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Contract binding refers here to a generated interface to interact with a contract (mainly call its entry points and retrieve data from its storage); this interface is expressed in a native language with native types (here TypeScript).</p><p>The main benefits are that it removes the burden of manipulating complex JSON structures of Micheline values; it also integrates well with IDE and, in the case of TypeScript, provides <em>strong type checking</em> at compilation time, rather than at execution time.</p><p>As a consequence, it drastically reduces the effort to write <a href="/docs/tests/introduction">Tests</a> and <a href="/docs/dapps/introduction">DApps</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="first-example">First example<a class="hash-link" href="#first-example" title="Direct link to heading">​</a></h2><p>Consider the following Archetype contract:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token archetype" style="color:#2FCAC3">archetype</span><span class="token plain"> binding_example</span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token declaration" style="color:rgb(233, 72, 21)">variable</span><span class="token plain"> msg </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token type" style="color:rgb(241, 250, 140)">string</span><span class="token plain"> = </span><span class="token string" style="color:rgb(255, 121, 198)">"Hello Binding World!"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token entry" style="color:rgb(233, 72, 21)">entry</span><span class="token plain"> exec</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  l </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token type" style="color:rgb(241, 250, 140)">list</span><span class="token plain">&lt;</span><span class="token type" style="color:rgb(241, 250, 140)">int</span><span class="token plain">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  r </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token type" style="color:rgb(241, 250, 140)">rational</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  o </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token logic" style="color:rgb(68, 134, 255)">or</span><span class="token plain">&lt;</span><span class="token type" style="color:rgb(241, 250, 140)">nat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token type" style="color:rgb(241, 250, 140)">string</span><span class="token plain">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">/* … do something … */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The following code illustrates how to interact in TypeScript with this contract:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> bind_example </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'./binding/bind_example'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> get_account </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'@completium/experiment-ts'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> Int</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Or</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Rational </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'@completium/archetype-ts-types'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> alice </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">get_account</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">‘alice’</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">’</span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> bind_example</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">deploy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> alice </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> msg </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> bind_example</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">get_msg</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">assert</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">msg </span><span class="token operator">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"Hello Binding World!"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> bind_example</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">exec</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Int</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Int</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">-</span><span class="token number">6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Rational</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0.2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  Or</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token generic-function function" style="color:rgb(80, 250, 123)">Right</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name">Nat</span><span class="token generic-function generic class-name punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name builtin" style="color:rgb(68, 134, 255)">string</span><span class="token generic-function generic class-name operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"Hello exec!"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> alice </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that the <code>msg</code> storage element is retrieved with the dedicated <code>get_msg</code> method of automatically generated binding object <code>bind_example</code>.</p><p>The <code>exec</code> entry point is called with the method with same name. Its signature is fully specified with native TS types:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">method</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> bind_example</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">exec</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">l</span><span class="token operator">:</span><span class="token plain"> Int</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> r</span><span class="token operator">:</span><span class="token plain"> Rational</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> o</span><span class="token operator">:</span><span class="token plain"> Or</span><span class="token operator">&lt;</span><span class="token plain">Nat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(68, 134, 255)">string</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> p </span><span class="token operator">:</span><span class="token plain"> Optional</span><span class="token operator">&lt;</span><span class="token plain">Parameters</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(68, 134, 255)">Promise</span><span class="token operator">&lt;</span><span class="token plain">CallResult</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The mapping from Archetype/Michelson types to TypeScript types is presented <a href="/docs/tests/binding#type-bindings">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="test-framework">Test framework<a class="hash-link" href="#test-framework" title="Direct link to heading">​</a></h2><p>The Archetype test framework has been totally redesigned to integrate the binding feature seamlessly.</p><p>The commands below creates an Node.js project in the <code>myproject</code> directory and installs the required packages.</p><div class="language-completium codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-completium codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token top" style="color:#2FCAC3">$ completium-cli</span><span class="token plain"> </span><span class="token first" style="color:rgb(255, 184, 108)">create project</span><span class="token plain"> myproject</span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token top" style="color:#2FCAC3">$ cd</span><span class="token plain"> ./myproject</span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token top" style="color:#2FCAC3">$ npm</span><span class="token plain"> </span><span class="token first" style="color:rgb(255, 184, 108)">install</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The command below generates the bindings for contracts found in <code>./contracts</code> directory:</p><div class="language-completium codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-completium codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token top" style="color:#2FCAC3">$ npm</span><span class="token plain"> </span><span class="token first" style="color:rgb(255, 184, 108)">run</span><span class="token plain"> gen-binding</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The test framework is presented in details <a href="/docs/tests/framework">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dapp">DApp<a class="hash-link" href="#dapp" title="Direct link to heading">​</a></h2><p>Binding is also available to integrate smart contracts in Dapps.</p><p>The command to generate the binding for integration in a DApp:</p><div class="language-completium codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-completium codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token top" style="color:#2FCAC3">completium-cli</span><span class="token plain"> </span><span class="token first" style="color:rgb(255, 184, 108)">generate</span><span class="token plain"> </span><span class="token first" style="color:rgb(255, 184, 108)">binding-dapp-ts</span><span class="token plain"> mycontract.arl &gt; mycontract.ts</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>General considerations about DApp are presented <a href="/docs/dapps/introduction">here</a>. An fully functional DApp example with source code is presented <a href="/docs/dapps/example/">here</a>.</p>]]></content>
        <author>
            <name>Benoit Rognier</name>
            <uri>https://www.linkedin.com/in/benoitrognier/</uri>
        </author>
        <author>
            <name>Guillaume Duhamel</name>
            <uri>https://www.linkedin.com/in/guillaumeduhamel/</uri>
        </author>
        <category label="binding" term="binding"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Version 1.3.2]]></title>
        <id>v132</id>
        <link href="https://archetype-lang.org/blog/v132"/>
        <updated>2022-07-07T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We present version 1.3.2 of Archetype language.]]></summary>
        <content type="html"><![CDATA[<p>We present version <a href="/docs/installation"><code>1.3.2</code></a> of Archetype language.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="added">Added<a class="hash-link" href="#added" title="Direct link to heading">​</a></h2><style data-emotion="css tzs92q">.css-tzs92q{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="MuiGrid-root MuiGrid-container css-tzs92q"><style data-emotion="css 14zkvn0">.css-14zkvn0{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-14zkvn0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1200px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1536px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-3 css-14zkvn0"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="update-for-set"><code>update</code> for <code>set</code><a class="hash-link" href="#update-for-set" title="Direct link to heading">​</a></h4></div><style data-emotion="css 1yvze6y">.css-1yvze6y{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-1yvze6y{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1200px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1536px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-9 css-1yvze6y"><p><a href="/docs/reference/instructions/containers#supdatee-b"><code>update</code></a> instruction adds or removes an element in a <a href="/docs/reference/types#set%3CT%3E"><code>set</code></a>.</p></div></div><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6"><style data-emotion="css tzs92q">.css-tzs92q{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="MuiGrid-root MuiGrid-container css-tzs92q" style="margin-top:12px"><style data-emotion="css 14zkvn0">.css-14zkvn0{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-14zkvn0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1200px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1536px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-3 css-14zkvn0"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="asset_container"><code>asset_container</code><a class="hash-link" href="#asset_container" title="Direct link to heading">​</a></h4></div><style data-emotion="css 1yvze6y">.css-1yvze6y{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-1yvze6y{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1200px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1536px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-9 css-1yvze6y"><p><a href="/docs/reference/types#asset_container%3CA%3E"><code>asset_container&lt;A&gt;</code></a> type is evaluated to container type of asset collection <code>A</code>.</p></div></div><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6"><style data-emotion="css tzs92q">.css-tzs92q{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="MuiGrid-root MuiGrid-container css-tzs92q" style="margin-top:12px"><style data-emotion="css 14zkvn0">.css-14zkvn0{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-14zkvn0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1200px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1536px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-3 css-14zkvn0"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="to_container"><code>to_container</code><a class="hash-link" href="#to_container" title="Direct link to heading">​</a></h4></div><style data-emotion="css 1yvze6y">.css-1yvze6y{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-1yvze6y{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1200px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1536px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-9 css-1yvze6y"><p><a href="/docs/reference/expressions/asset#ato_container"><code>to_container</code></a> builtin returns the container object of an asset collection.</p></div></div><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6"><style data-emotion="css tzs92q">.css-tzs92q{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="MuiGrid-root MuiGrid-container css-tzs92q" style="margin-top:12px"><style data-emotion="css 14zkvn0">.css-14zkvn0{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-14zkvn0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1200px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1536px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-3 css-14zkvn0"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="put_remove"><code>put_remove</code><a class="hash-link" href="#put_remove" title="Direct link to heading">​</a></h4></div><style data-emotion="css 1yvze6y">.css-1yvze6y{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-1yvze6y{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1200px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1536px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-9 css-1yvze6y"><p><a href="/docs/reference/instructions/asset#aput_removek-o"><code>put_remove</code></a> asset method puts or removes an asset in a collection.</p></div></div><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6"><style data-emotion="css tzs92q">.css-tzs92q{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="MuiGrid-root MuiGrid-container css-tzs92q" style="margin-top:12px"><style data-emotion="css 14zkvn0">.css-14zkvn0{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-14zkvn0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1200px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1536px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-3 css-14zkvn0"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="make_asset"><code>make_asset</code><a class="hash-link" href="#make_asset" title="Direct link to heading">​</a></h4></div><style data-emotion="css 1yvze6y">.css-1yvze6y{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-1yvze6y{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1200px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1536px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-9 css-1yvze6y"><p><a href="/docs/reference/expressions/builtins#make_asset(k%20:%20asset_key%3CA%3E,%20v%20:%20asset_value%3CA%3E)"><code>make_asset</code></a> builin creates an asset from key and value.</p></div></div><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6"><style data-emotion="css tzs92q">.css-tzs92q{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="MuiGrid-root MuiGrid-container css-tzs92q" style="margin-top:12px"><style data-emotion="css 14zkvn0">.css-14zkvn0{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-14zkvn0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1200px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1536px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-3 css-14zkvn0"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="create_contract"><code>create_contract</code><a class="hash-link" href="#create_contract" title="Direct link to heading">​</a></h4></div><style data-emotion="css 1yvze6y">.css-1yvze6y{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-1yvze6y{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1200px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1536px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-9 css-1yvze6y"><p><a href="/docs/reference/expressions/builtins#create_contract(path,%20del,%20amount,%20storage)"><code>create_contract</code></a> creates the operation to originate a contract.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="breaking-change">Breaking Change<a class="hash-link" href="#breaking-change" title="Direct link to heading">​</a></h2><p>Constant <code>caller</code> (and any other <a href="/docs/reference/expressions/constants">constant</a>) are no longer available as initial storage value.</p><p>It is recommended to use <a href="http://localhost:3000/docs/reference/declarations/contract#constant" target="_blank" rel="noopener noreferrer">constant parameters</a> instead.</p>]]></content>
        <author>
            <name>Benoit Rognier</name>
            <uri>https://www.linkedin.com/in/benoitrognier/</uri>
        </author>
        <author>
            <name>Guillaume Duhamel</name>
            <uri>https://www.linkedin.com/in/guillaumeduhamel/</uri>
        </author>
        <category label="version" term="version"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Version 1.3.1]]></title>
        <id>v131</id>
        <link href="https://archetype-lang.org/blog/v131"/>
        <updated>2022-06-24T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We present version 1.3.1 of Archetype language.]]></summary>
        <content type="html"><![CDATA[<p>We present version <a href="/docs/installation"><code>1.3.1</code></a> of Archetype language.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="added">Added<a class="hash-link" href="#added" title="Direct link to heading">​</a></h2><style data-emotion="css tzs92q">.css-tzs92q{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="MuiGrid-root MuiGrid-container css-tzs92q"><style data-emotion="css 14zkvn0">.css-14zkvn0{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-14zkvn0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1200px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1536px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-3 css-14zkvn0"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="constant-section">Constant section<a class="hash-link" href="#constant-section" title="Direct link to heading">​</a></h4></div><style data-emotion="css 1yvze6y">.css-1yvze6y{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-1yvze6y{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1200px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1536px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-9 css-1yvze6y"><p>This new entrypoint's section <a href="/docs/reference/declarations/entrypoint#constant"><code>constant</code></a> allows the declaration of local constants to be used in other sections.</p></div></div><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6"><style data-emotion="css tzs92q">.css-tzs92q{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="MuiGrid-root MuiGrid-container css-tzs92q" style="margin-top:12px"><style data-emotion="css 14zkvn0">.css-14zkvn0{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-14zkvn0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1200px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1536px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-3 css-14zkvn0"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="const-parameter"><code>const</code> parameter<a class="hash-link" href="#const-parameter" title="Direct link to heading">​</a></h4></div><style data-emotion="css 1yvze6y">.css-1yvze6y{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-1yvze6y{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1200px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1536px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-9 css-1yvze6y"><p>A contract <a href="/docs/reference/declarations/contract#parameters">parameter</a> can new be declared <a href="/docs/reference/declarations/contract#constant"><code>const</code></a>. Its occurences are replaced by the value provided at deployment.</p></div></div><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6"><style data-emotion="css tzs92q">.css-tzs92q{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="MuiGrid-root MuiGrid-container css-tzs92q" style="margin-top:12px"><style data-emotion="css 14zkvn0">.css-14zkvn0{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-14zkvn0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1200px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1536px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-3 css-14zkvn0"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="assets-update-instruction">Asset's <code>update</code> instruction<a class="hash-link" href="#assets-update-instruction" title="Direct link to heading">​</a></h4></div><style data-emotion="css 1yvze6y">.css-1yvze6y{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-1yvze6y{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1200px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1536px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-9 css-1yvze6y"><p>An asset field typed <a href="/docs/language-basics/container#map">map</a> or <a href="/docs/language-basics/container#set">set</a>, can now be updated with <a href="/docs/reference/instructions/asset#aupdatek--u-">update</a> (or <a href="/docs/reference/instructions/asset#aadd_updatek--u-"><code>add_update</code></a>) instructions <code>+=</code> <code>-=</code> <code>:=</code> update instructions. See <a href="/docs/reference/instructions/asset#basic-containers">details</a>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changed">Changed<a class="hash-link" href="#changed" title="Direct link to heading">​</a></h3><p>Following new Jakarta protocol, the return type of builtin <a href="/docs/reference/expressions/builtins/#sapling_verify_update(s,%20t)"><code>verify_sapling_update</code></a> is now <code>option&lt;bytes * int * sapling_state(n)&gt;</code></p>]]></content>
        <author>
            <name>Benoit Rognier</name>
            <uri>https://www.linkedin.com/in/benoitrognier/</uri>
        </author>
        <author>
            <name>Guillaume Duhamel</name>
            <uri>https://www.linkedin.com/in/guillaumeduhamel/</uri>
        </author>
        <category label="version" term="version"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Version 1.3.0]]></title>
        <id>v13</id>
        <link href="https://archetype-lang.org/blog/v13"/>
        <updated>2022-06-16T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We present new version 1.3.0 of Archetype language.]]></summary>
        <content type="html"><![CDATA[<p>We present new version <a href="/docs/installation"><code>1.3.0</code></a> of Archetype language.</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>This version introduces breaking changes in the <a href="/blog/v13#renamings">naming</a> of some builtins.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="added">Added<a class="hash-link" href="#added" title="Direct link to heading">​</a></h3><style data-emotion="css 1d3bbye">.css-1d3bbye{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}</style><div class="MuiGrid-root MuiGrid-container css-1d3bbye"><style data-emotion="css 14zkvn0">.css-14zkvn0{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-14zkvn0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1200px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1536px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-3 css-14zkvn0"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="asset-access">Asset access<a class="hash-link" href="#asset-access" title="Direct link to heading">​</a></h4></div><style data-emotion="css 1yvze6y">.css-1yvze6y{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-1yvze6y{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1200px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1536px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-9 css-1yvze6y"><p>Presentation in this blog <a href="/blog/asset-access">entry</a>.</p></div></div><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6"><style data-emotion="css 1d3bbye">.css-1d3bbye{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}</style><div class="MuiGrid-root MuiGrid-container css-1d3bbye" style="margin-top:18px"><style data-emotion="css 14zkvn0">.css-14zkvn0{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-14zkvn0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1200px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1536px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-3 css-14zkvn0"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="otherwise"><code>otherwise</code><a class="hash-link" href="#otherwise" title="Direct link to heading">​</a></h4></div><style data-emotion="css 1yvze6y">.css-1yvze6y{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-1yvze6y{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1200px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1536px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-9 css-1yvze6y"><p><code>otherwise</code> command is now available in <em>all</em> <a href="/docs/reference/declarations/entrypoint#sections">sections</a> to define a specific error message.</p><p>For example:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token entry" style="color:rgb(233, 72, 21)">entry</span><span class="token plain"> set_owner_candidate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">oc </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token type" style="color:rgb(241, 250, 140)">address</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  </span><span class="token section" style="color:rgb(255, 184, 108)">called by</span><span class="token plain"> owner </span><span class="token section" style="color:rgb(255, 184, 108)">otherwise</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"CALLER_NOT_OWNER"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">/* ... other sections ... */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6"><style data-emotion="css 1d3bbye">.css-1d3bbye{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}</style><div class="MuiGrid-root MuiGrid-container css-1d3bbye" style="margin-top:18px"><style data-emotion="css 14zkvn0">.css-14zkvn0{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-14zkvn0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1200px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1536px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-3 css-14zkvn0"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="-"><code>/</code> <code>%</code><a class="hash-link" href="#-" title="Direct link to heading">​</a></h4></div><style data-emotion="css 1yvze6y">.css-1yvze6y{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-1yvze6y{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1200px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1536px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-9 css-1yvze6y"><p>It is now possible to divide and apply modulo between <a href="/docs/reference/types#tez"><code>tez</code></a> values:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token decl" style="color:rgb(189, 147, 249)">const</span><span class="token plain"> a </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token type" style="color:rgb(241, 250, 140)">rational</span><span class="token plain"> = 5tz / 3tz</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token decl" style="color:rgb(189, 147, 249)">const</span><span class="token plain"> b </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token type" style="color:rgb(241, 250, 140)">tez</span><span class="token plain"> = 5tz </span><span class="token unkeyworded">% 2tz</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changed">Changed<a class="hash-link" href="#changed" title="Direct link to heading">​</a></h3><style data-emotion="css 1d3bbye">.css-1d3bbye{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}</style><div class="MuiGrid-root MuiGrid-container css-1d3bbye" style="margin-top:18px"><style data-emotion="css 14zkvn0">.css-14zkvn0{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-14zkvn0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1200px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1536px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-3 css-14zkvn0"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="and-or"><code>and</code> <code>or</code><a class="hash-link" href="#and-or" title="Direct link to heading">​</a></h4></div><style data-emotion="css 1yvze6y">.css-1yvze6y{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-1yvze6y{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1200px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1536px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-9 css-1yvze6y"><p>Presentation in this blog <a href="/blog/shortcut-evaluation">entry</a>.</p></div></div><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6"><style data-emotion="css 1d3bbye">.css-1d3bbye{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}</style><div class="MuiGrid-root MuiGrid-container css-1d3bbye" style="margin-top:18px"><style data-emotion="css 14zkvn0">.css-14zkvn0{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-14zkvn0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1200px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1536px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-3 css-14zkvn0"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="add_update"><code>add_update</code><a class="hash-link" href="#add_update" title="Direct link to heading">​</a></h4></div><style data-emotion="css 1yvze6y">.css-1yvze6y{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-1yvze6y{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1200px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1536px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-9 css-1yvze6y"><p>When <a href="/docs/reference/instructions/asset#aadd_updatek--u-"><code>add_update</code></a> is used to update all asset fields it is now optimized and compiled in Michelson as a <a href="https://tezos.gitlab.io/michelson-reference/#instr-UPDATE" target="_blank" rel="noopener noreferrer"><code>UPDATE</code></a> instruction.</p></div></div><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6"><style data-emotion="css 1d3bbye">.css-1d3bbye{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}</style><div class="MuiGrid-root MuiGrid-container css-1d3bbye" style="margin-top:18px"><style data-emotion="css 14zkvn0">.css-14zkvn0{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-14zkvn0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1200px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}@media (min-width:1536px){.css-14zkvn0{-webkit-flex-basis:25%;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:25%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-3 css-14zkvn0"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="reverse"><code>reverse</code><a class="hash-link" href="#reverse" title="Direct link to heading">​</a></h4></div><style data-emotion="css 1yvze6y">.css-1yvze6y{box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-1yvze6y{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1200px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}@media (min-width:1536px){.css-1yvze6y{-webkit-flex-basis:75%;-ms-flex-preferred-size:75%;flex-basis:75%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:75%;}}</style><div class="MuiGrid-root MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-9 css-1yvze6y"><p><a href="/docs/reference/expressions/builtins#reverse(l%20:%20list%3CT%3E)"><code>reverse</code></a> 's Michelson code is now optimized with:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token constant" style="color:rgb(189, 147, 249);font-style:italic">NIL</span><span class="token plain"> string </span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token constant" style="color:rgb(189, 147, 249);font-style:italic">PUSH</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">list string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">"i0"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"i1"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"i2"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token constant" style="color:rgb(189, 147, 249);font-style:italic">ITER</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249);font-style:italic">CONS</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fixed">Fixed<a class="hash-link" href="#fixed" title="Direct link to heading">​</a></h2><p>Multiplication between <a href="/docs/reference/types#rational"><code>rational</code></a> and big amount of <a href="/docs/reference/types#tez"><code>tez</code></a> could fail with an overflow; the following now works:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token decl" style="color:rgb(189, 147, 249)">const</span><span class="token plain"> a = </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">2 / 3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> * 9223372036854775807utz</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="renamings">Renamings<a class="hash-link" href="#renamings" title="Direct link to heading">​</a></h2><p>Some builtins' have been renamed (for ex. snake-cased) to be more consistent, and error values have been capitalised.</p><p>Below is the list of renamings. <em>New</em> names are on the left, <em>previous</em> on the right:</p><style data-emotion="css 1d3bbye">.css-1d3bbye{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}</style><div class="MuiGrid-root MuiGrid-container css-1d3bbye"><style data-emotion="css 1wxaqej">.css-1wxaqej{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}</style><div class="MuiGrid-root MuiGrid-item css-1wxaqej" style="padding-left:8px"><style data-emotion="css 9l3uo3">.css-9l3uo3{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;}</style><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans;color:grey">Sections</p></div><style data-emotion="css obit8q">.css-obit8q{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-obit8q{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-obit8q{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:1200px){.css-obit8q{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:1536px){.css-obit8q{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}</style><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><style data-emotion="css 15j76c0">.css-15j76c0{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-15j76c0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-15j76c0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:1200px){.css-15j76c0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:1536px){.css-15j76c0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}</style><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><style data-emotion="css h3o6is">.css-h3o6is{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-h3o6is{-webkit-flex-basis:33.333333%;-ms-flex-preferred-size:33.333333%;flex-basis:33.333333%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:33.333333%;}}@media (min-width:900px){.css-h3o6is{-webkit-flex-basis:33.333333%;-ms-flex-preferred-size:33.333333%;flex-basis:33.333333%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:33.333333%;}}@media (min-width:1200px){.css-h3o6is{-webkit-flex-basis:33.333333%;-ms-flex-preferred-size:33.333333%;flex-basis:33.333333%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:33.333333%;}}@media (min-width:1536px){.css-h3o6is{-webkit-flex-basis:33.333333%;-ms-flex-preferred-size:33.333333%;flex-basis:33.333333%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:33.333333%;}}</style><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/declarations/entrypoint#no-transfer"><code>no transfer</code></a></div><style data-emotion="css 1iqiv84">.css-1iqiv84{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-1iqiv84{-webkit-flex-basis:66.666667%;-ms-flex-preferred-size:66.666667%;flex-basis:66.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:66.666667%;}}@media (min-width:900px){.css-1iqiv84{-webkit-flex-basis:66.666667%;-ms-flex-preferred-size:66.666667%;flex-basis:66.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:66.666667%;}}@media (min-width:1200px){.css-1iqiv84{-webkit-flex-basis:66.666667%;-ms-flex-preferred-size:66.666667%;flex-basis:66.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:66.666667%;}}@media (min-width:1536px){.css-1iqiv84{-webkit-flex-basis:66.666667%;-ms-flex-preferred-size:66.666667%;flex-basis:66.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:66.666667%;}}</style><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>refuse transfer</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/declarations/entrypoint#fail-if"><code>fail if</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>failif</code></div><p></p></div></div></div><br><div class="MuiGrid-root MuiGrid-container css-1d3bbye"><div class="MuiGrid-root MuiGrid-item css-1wxaqej" style="padding-left:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans;color:grey">Types</p></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/types#asset_key<A>"><code>asset_key</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>pkey</code></div><p></p></div></div></div><br><div class="MuiGrid-root MuiGrid-container css-1d3bbye"><div class="MuiGrid-root MuiGrid-item css-1wxaqej" style="padding-left:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans;color:grey">Instructions</p></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/instructions/divergent#do_requiret--bool-e--t"><code>do_require</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>dorequire</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/instructions/divergent#do_fail_ift--bool-e--t"><code>do_fail_if</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>dofailif</code></div><p></p></div></div></div><br><div class="MuiGrid-root MuiGrid-container css-1d3bbye"><div class="MuiGrid-root MuiGrid-item css-1wxaqej" style="padding-left:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans;color:grey">Constants</p></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/expressions/constants#chain_id"><code>self_chain_id</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>chainid</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/expressions/constants#self_address"><code>self_address</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>selfaddress</code></div><p></p></div></div></div><br><div class="MuiGrid-root MuiGrid-container css-1d3bbye"><div class="MuiGrid-root MuiGrid-item css-1wxaqej" style="padding-left:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans;color:grey">Builtins</p></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/expressions/builtins#call_view<T>(a%20:%20address,%20id%20:%20string,%20arg%20:%20X)"><code>call_view</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>callview</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/expressions/builtins#contract_to_address(c%20:%20contract<T>)"><code>contract_to_address</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>contract_address</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/expressions/builtins#int_to_date(i%20:%20int)"><code>int_to_date</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>date_from_timestamp</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/expressions/builtins#key_to_key_hash(k%20:%20key)"><code>key_to_key_hash</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>hash_key</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/expressions/builtins#key_hash_to_contract(pkh%20:%20key_hash)"><code>key_hash_to_contract</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>implicit_account</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/expressions/builtins#int_to_nat(i%20:%20int)"><code>int_to_nat</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>isnat</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/expressions/builtins#is_none(o%20:%20option<T>)"><code>is_none</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>isnone</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/expressions/builtins#is_some(o%20:%20option<T>)"><code>is_some</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>issome</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/expressions/builtins#key_to_address(k%20:%20key)"><code>key_to_address</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>key_address</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/expressions/builtins#make_operation(a%20:%20tez,%20c%20:%20contract<T>,%20arg%20:%20T)"><code>make_operation</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>mkoperation</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/expressions/builtins#get_some(o%20:%20option<T>)"><code>get_some</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>opt_get</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/expressions/builtins#nat_to_string(n%20:%20nat)"><code>nat_to_string</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>to_string</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/expressions/builtins#get_entrypoint<T>(s,%20a%20:%20address)"><code>get_entrypoint</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>entrypoint</code></div><p></p></div></div></div><br><div class="MuiGrid-root MuiGrid-container css-1d3bbye"><div class="MuiGrid-root MuiGrid-item css-1wxaqej" style="padding-left:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans;color:grey">Assets</p></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/expressions/asset#agetk--asset_keya"><code>get</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>get_opt</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/expressions/asset#agetk--asset_keya"><code>add_update</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>addupdate</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/instructions/asset#aremove_ifp"><code>remove_if</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>removeif</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-4 MuiGrid-grid-md-4 css-h3o6is" style="padding-left:8px"><a href="/docs/reference/instructions/asset#aremove_all"><code>remove_all</code></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-8 MuiGrid-grid-md-8 css-1iqiv84" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>clear</code></div><p></p></div></div></div><br><div class="MuiGrid-root MuiGrid-container css-1d3bbye"><div class="MuiGrid-root MuiGrid-item css-1wxaqej" style="padding-left:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans;color:grey">Error messages</p></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><style data-emotion="css 5n7nhl">.css-5n7nhl{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-5n7nhl{-webkit-flex-basis:41.666667%;-ms-flex-preferred-size:41.666667%;flex-basis:41.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:41.666667%;}}@media (min-width:900px){.css-5n7nhl{-webkit-flex-basis:41.666667%;-ms-flex-preferred-size:41.666667%;flex-basis:41.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:41.666667%;}}@media (min-width:1200px){.css-5n7nhl{-webkit-flex-basis:41.666667%;-ms-flex-preferred-size:41.666667%;flex-basis:41.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:41.666667%;}}@media (min-width:1536px){.css-5n7nhl{-webkit-flex-basis:41.666667%;-ms-flex-preferred-size:41.666667%;flex-basis:41.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:41.666667%;}}</style><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-5 MuiGrid-grid-md-5 css-5n7nhl" style="padding-left:8px"><code>"ASSET_NOT_FOUND"</code></div><style data-emotion="css 16ykuap">.css-16ykuap{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-16ykuap{-webkit-flex-basis:58.333333%;-ms-flex-preferred-size:58.333333%;flex-basis:58.333333%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:58.333333%;}}@media (min-width:900px){.css-16ykuap{-webkit-flex-basis:58.333333%;-ms-flex-preferred-size:58.333333%;flex-basis:58.333333%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:58.333333%;}}@media (min-width:1200px){.css-16ykuap{-webkit-flex-basis:58.333333%;-ms-flex-preferred-size:58.333333%;flex-basis:58.333333%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:58.333333%;}}@media (min-width:1536px){.css-16ykuap{-webkit-flex-basis:58.333333%;-ms-flex-preferred-size:58.333333%;flex-basis:58.333333%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:58.333333%;}}</style><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-7 MuiGrid-grid-md-7 css-16ykuap" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>"AssetNotFound"</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-5 MuiGrid-grid-md-5 css-5n7nhl" style="padding-left:8px"><code>"DIV_BY_ZERO"</code></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-7 MuiGrid-grid-md-7 css-16ykuap" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>"divbyzero"</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-5 MuiGrid-grid-md-5 css-5n7nhl" style="padding-left:8px"><code>"INVALID_CALLER"</code></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-7 MuiGrid-grid-md-7 css-16ykuap" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>"InvalidCaller"</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-5 MuiGrid-grid-md-5 css-5n7nhl" style="padding-left:8px"><code>"INVALID_NEGATIVE_TEZ"</code></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-7 MuiGrid-grid-md-7 css-16ykuap" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>"InvalidNegativeTez"</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-5 MuiGrid-grid-md-5 css-5n7nhl" style="padding-left:8px"><code>"INVALID_SOURCE"</code></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-7 MuiGrid-grid-md-7 css-16ykuap" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>"InvalidSource"</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-5 MuiGrid-grid-md-5 css-5n7nhl" style="padding-left:8px"><code>"INVALID_STATE"</code></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-7 MuiGrid-grid-md-7 css-16ykuap" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>"InvalidState"</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-5 MuiGrid-grid-md-5 css-5n7nhl" style="padding-left:8px"><code>"INVALID_CONDITION"</code></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-7 MuiGrid-grid-md-7 css-16ykuap" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>"InvalidCondition"</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-5 MuiGrid-grid-md-5 css-5n7nhl" style="padding-left:8px"><code>"KEY_EXISTS"</code></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-7 MuiGrid-grid-md-7 css-16ykuap" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>"KeyExists"</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-5 MuiGrid-grid-md-5 css-5n7nhl" style="padding-left:8px"><code>"KEY_EXISTS_OR_NOT_FOUND"</code></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-7 MuiGrid-grid-md-7 css-16ykuap" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>"KeyExistsOrNotFound"</code></div><p></p></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-item MuiGrid-grid-xs-12 css-obit8q"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-15j76c0"><hr class="MuiDivider-root MuiDivider-fullWidth divider_LuCZ css-39bbo6" style="margin-bottom:8px;margin-top:4px"></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-5 MuiGrid-grid-md-5 css-5n7nhl" style="padding-left:8px"><code>"NO_TRANSFER"</code></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-7 MuiGrid-grid-md-7 css-16ykuap" style="padding-left:8px;margin-bottom:8px"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3" style="font-family:IBM Plex Sans"></p><div><code>"NoTransfer"</code></div><p></p></div></div></div><br>]]></content>
        <author>
            <name>Benoit Rognier</name>
            <uri>https://www.linkedin.com/in/benoitrognier/</uri>
        </author>
        <author>
            <name>Guillaume Duhamel</name>
            <uri>https://www.linkedin.com/in/guillaumeduhamel/</uri>
        </author>
        <category label="version" term="version"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Shortcut evaluation]]></title>
        <id>shortcut-evaluation</id>
        <link href="https://archetype-lang.org/blog/shortcut-evaluation"/>
        <updated>2022-06-04T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We present a change in version 1.3.0 of the evaluation process of boolean operators and and or in test expression of the if instruction and expression.]]></summary>
        <content type="html"><![CDATA[<p>We present a change in version <code>1.3.0</code> of the evaluation process of boolean operators <a href="/docs/reference/expressions/operators/arithmetic#a-and-b"><code>and</code></a> and <a href="/docs/reference/expressions/operators/arithmetic#a-or-b"><code>or</code></a> in test expression of the <a href="/docs/reference/instructions/control#if"><code>if</code></a> instruction and expression.</p><p>Consider the following <code>if</code> instruction:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token control" style="color:rgb(189, 147, 249)">if</span><span class="token plain"> a </span><span class="token logic" style="color:rgb(68, 134, 255)">and</span><span class="token plain"> b </span><span class="token control" style="color:rgb(189, 147, 249)">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">/* */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token control" style="color:rgb(189, 147, 249)">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Before version <code>1.3.0</code>, both expressions <code>a</code> and <code>b</code> were evaluated, meaning that if <code>b</code> is a <a href="/docs/reference/instructions/divergent#faile">failing</a> expression, the evaluation fails even if <code>a</code> is false.</p><p>Since version <code>1.3.0</code>, <code>a and b</code> is replaced by <a href="/docs/reference/expressions/controls#if">conditional</a> expression:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token control" style="color:rgb(189, 147, 249)">if</span><span class="token plain"> a </span><span class="token control" style="color:rgb(189, 147, 249)">then</span><span class="token plain"> b </span><span class="token control" style="color:rgb(189, 147, 249)">else</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(68, 134, 255)">false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Equivalently, expression <code>a or b</code> is replaced by:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token control" style="color:rgb(189, 147, 249)">if</span><span class="token plain"> a </span><span class="token control" style="color:rgb(189, 147, 249)">then</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(68, 134, 255)">true</span><span class="token plain"> </span><span class="token control" style="color:rgb(189, 147, 249)">else</span><span class="token plain"> b</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Such that expression <code>b</code> is evaluated only when necessary.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="greedy-evaluation">Greedy evaluation<a class="hash-link" href="#greedy-evaluation" title="Direct link to heading">​</a></h3><p>The previous <em>greedy evaluation</em>  mechanism is still  available with the <a href="/docs/reference/expressions/builtins#greedy_and(a%20:%20bool,%20b%20:%20bool)"><code>greedy_and</code></a> and <a href="/docs/reference/expressions/builtins#greedy_or(a%20:%20bool,%20b%20:%20bool)"><code>greedy_or</code></a> builtins.</p>]]></content>
        <author>
            <name>Guillaume Duhamel</name>
            <uri>https://www.linkedin.com/in/guillaumeduhamel/</uri>
        </author>
        <category label="and" term="and"/>
        <category label="or" term="or"/>
        <category label="if" term="if"/>
        <category label="new feature" term="new feature"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Accessing assets]]></title>
        <id>asset-access</id>
        <link href="https://archetype-lang.org/blog/asset-access"/>
        <updated>2022-05-25T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We present an improvement in the way assets data are accessed in version 1.3.0.]]></summary>
        <content type="html"><![CDATA[<p>We present an improvement in the way <a href="/docs/asset">assets</a> data are accessed in version <a href="/docs/installation"><code>1.3.0</code></a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="problems">Problems<a class="hash-link" href="#problems" title="Direct link to heading">​</a></h3><p>Until this version, the only way to access an asset data was the field accessor operator of the form <a href="/docs/reference/expressions/asset#ak--asset_keyaf"><code>A[k].f</code></a>, where <code>A</code> is the asset collection, <code>k</code> the asset key and <code>f</code> the asset field.</p><p>The first problem was the access to multiple fields; for example, consider the following asset declaration:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token declaration" style="color:rgb(233, 72, 21)">asset</span><span class="token plain"> vehicle </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  vin          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token type" style="color:rgb(241, 250, 140)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  manufacturer </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token type" style="color:rgb(241, 250, 140)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  year         </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token type" style="color:rgb(241, 250, 140)">nat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  nbdoors      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token type" style="color:rgb(241, 250, 140)">nat</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Accessing several fields would end up accessing the underlying map several times:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token decl" style="color:rgb(189, 147, 249)">const</span><span class="token plain"> k = </span><span class="token string" style="color:rgb(255, 121, 198)">"1G1AF1F57A7192174"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token decl" style="color:rgb(189, 147, 249)">const</span><span class="token plain"> m = vehicle</span><span class="token access" style="color:rgb(68, 134, 255)">[</span><span class="token plain">k</span><span class="token access" style="color:rgb(68, 134, 255)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">manufacturer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token decl" style="color:rgb(189, 147, 249)">const</span><span class="token plain"> y = vehicle</span><span class="token access" style="color:rgb(68, 134, 255)">[</span><span class="token plain">k</span><span class="token access" style="color:rgb(68, 134, 255)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">year</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token decl" style="color:rgb(189, 147, 249)">const</span><span class="token plain"> n = vehicle</span><span class="token access" style="color:rgb(68, 134, 255)">[</span><span class="token plain">k</span><span class="token access" style="color:rgb(68, 134, 255)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">nbdoors</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here the test and fail instructions are repeated three times.</p><p>The second problem is the <em>implicit</em> fail of the <code>[]</code> operator in situations where it is implicit that the asset exists.</p><p>It is typically the case when the asset field is accessed in the <code>true</code> branch of a <a href="/docs/reference/expressions/asset#acontainsk--asset_keya"><code>contains</code></a> test:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token decl" style="color:rgb(189, 147, 249)">const</span><span class="token plain"> k = </span><span class="token string" style="color:rgb(255, 121, 198)">"1G1AF1F57A7192174"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token control" style="color:rgb(189, 147, 249)">if</span><span class="token plain"> vehicle</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token asset" style="color:rgb(68, 134, 255)">contains</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">k</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token control" style="color:rgb(189, 147, 249)">then</span><span class="token plain"> </span><span class="token control" style="color:rgb(189, 147, 249)">begin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  </span><span class="token decl" style="color:rgb(189, 147, 249)">const</span><span class="token plain"> m = vehicle</span><span class="token access" style="color:rgb(68, 134, 255)">[</span><span class="token plain">k</span><span class="token access" style="color:rgb(68, 134, 255)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">manufacturer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">/* ... do something with m ... */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token control" style="color:rgb(189, 147, 249)">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>[].</code> operator treats the case when asset is not found while it has already been tested.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="solution">Solution<a class="hash-link" href="#solution" title="Direct link to heading">​</a></h3><p>Version <a href="/docs/installation"><code>1.3.0</code></a> provides new operator <a href="/docs/reference/expressions/asset#ak--asset_keya"><code>[]</code></a> that returns an <a href="/docs/reference/types#option%3CT%3E"><code>option</code></a> of <a href="/docs/reference/types#asset_value%3CA%3E">asset value</a>.</p><p>Combined with the new <a href="/docs/reference/instructions/localvariable#-"><code>?=</code></a> declaration instruction, the proper way to retrieve all vehicle data presented above, is now as follows:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token decl" style="color:rgb(189, 147, 249)">const</span><span class="token plain"> v </span><span class="token access" style="color:rgb(68, 134, 255)">?</span><span class="token plain">= vehicle</span><span class="token access" style="color:rgb(68, 134, 255)">[</span><span class="token string" style="color:rgb(255, 121, 198)">"1G1AF1F57A7192174"</span><span class="token access" style="color:rgb(68, 134, 255)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token decl" style="color:rgb(189, 147, 249)">const</span><span class="token plain"> m = v</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">manufacturer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token decl" style="color:rgb(189, 147, 249)">const</span><span class="token plain"> y = v</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">year</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token decl" style="color:rgb(189, 147, 249)">const</span><span class="token plain"> n = v</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">nbdoors</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The declaration of <code>v</code> fails with <code>"OPTION_IS_NONE"</code> if vehicle is not found. It is possible to specify an error message with:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token decl" style="color:rgb(189, 147, 249)">const</span><span class="token plain"> v </span><span class="token access" style="color:rgb(68, 134, 255)">?</span><span class="token plain">= vehicle</span><span class="token access" style="color:rgb(68, 134, 255)">[</span><span class="token string" style="color:rgb(255, 121, 198)">"1G1AF1F57A7192174"</span><span class="token access" style="color:rgb(68, 134, 255)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"VEHICLE_NOT_FOUND"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="single-field-access">Single field access<a class="hash-link" href="#single-field-access" title="Direct link to heading">​</a></h3><p>Situations where a single asset field is accessed is very common though.</p><p>Version <a href="/docs/installation"><code>1.3.0</code></a> provides a new operator <a href="/docs/reference/expressions/asset#ak--asset_keyaf"><code>[]?.</code></a> that returns an <a href="/docs/reference/types#option%3CT%3E"><code>option</code></a> of field value, so that the non existence case may be <em>explicitely</em> treated.</p><p>For example, the following retrieves an option of <a href="/docs/reference/types#nat"><code>nat</code></a> to treat more specifically the case when the asset is not found:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token decl" style="color:rgb(189, 147, 249)">const</span><span class="token plain"> opt_n = vehicle</span><span class="token access" style="color:rgb(68, 134, 255)">[</span><span class="token string" style="color:rgb(255, 121, 198)">"1G1AF1F57A7192174"</span><span class="token access" style="color:rgb(68, 134, 255)">]</span><span class="token access" style="color:rgb(68, 134, 255)">?</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">nbdoors</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">/* treat case when on is none ... */</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>opt_n</code> is typed <code>option&lt;nat&gt;</code> and is <code>none</code> if the vehicle is not found.</p><p>Operator <a href="/docs/reference/expressions/asset#ak--asset_keyaf"><code>[].</code></a> is still available: it fails when asset is not found, which is syntactically convenient when there is an <em>implicit</em> existence invariant on the asset:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token decl" style="color:rgb(189, 147, 249)">const</span><span class="token plain"> n = vehicle</span><span class="token access" style="color:rgb(68, 134, 255)">[</span><span class="token string" style="color:rgb(255, 121, 198)">"1G1AF1F57A7192174"</span><span class="token access" style="color:rgb(68, 134, 255)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">nbdoors</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It implictely fails with <code>("ASSET_NOT_FOUND", "vehicle")</code> if <code>"1G1AF1F57A7192174"</code> is not found.</p>]]></content>
        <author>
            <name>Guillaume Duhamel</name>
            <uri>https://www.linkedin.com/in/guillaumeduhamel/</uri>
        </author>
        <category label="asset" term="asset"/>
        <category label="new feature" term="new feature"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Iterable big map]]></title>
        <id>iterable-big-map</id>
        <link href="https://archetype-lang.org/blog/iterable-big-map"/>
        <updated>2022-04-24T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We present a new type of map called iterablebigmap, which has the scalability property of a bigmap, and which can be iterated like a basic map.]]></summary>
        <content type="html"><![CDATA[<p>We present a new type of map called <a href="/docs/reference/types#iterable_big_map%3CK,%20V%3E"><code>iterable_big_map</code></a>, which has the scalability property of a <a href="/docs/reference/types#big_map%3CK,%20V%3E"><code>big_map</code></a>, and which can be <a href="/docs/reference/instructions/containers#map">iterated</a> like a basic <a href="/docs/reference/types#map%3CK,%20V%3E"><code>map</code></a>.</p><p>This feature was suggested by <a href="https://www.nomadic-labs.com/" target="_blank" rel="noopener noreferrer">Nomadic Labs</a>. Thank you to <a href="https://www.linkedin.com/in/lucas-felli-815653111/" target="_blank" rel="noopener noreferrer">Lucas Feli</a> and <a href="https://www.linkedin.com/in/charles-dehlinger-a34699166/" target="_blank" rel="noopener noreferrer">Charles Delhinger</a> for the algorithm.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a class="hash-link" href="#example" title="Direct link to heading">​</a></h2><p>Consider the following declaration of an iterable big map between a <code>nat</code> key and a <code>bytes</code> value:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token declaration" style="color:rgb(233, 72, 21)">variable</span><span class="token plain"> ibm </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token type" style="color:rgb(241, 250, 140)">iterable_big_map</span><span class="token plain">&lt;</span><span class="token type" style="color:rgb(241, 250, 140)">nat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token type" style="color:rgb(241, 250, 140)">bytes</span><span class="token plain">&gt; = </span><span class="token access" style="color:rgb(68, 134, 255)">[</span><span class="token access" style="color:rgb(68, 134, 255)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>While <code>ibm</code> has the scalability of a big map (in terms of number of entries), it can also be iterated with the <code>for</code> control instruction:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token control" style="color:rgb(189, 147, 249)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">k</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">v</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token control" style="color:rgb(189, 147, 249)">in</span><span class="token plain"> ibm </span><span class="token control" style="color:rgb(189, 147, 249)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">/* k is the key, v is the value */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token control" style="color:rgb(189, 147, 249)">done</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Note that:</p><ul><li>the natural order of the key values is not garanteed (unlike basic <a href="/docs/reference/types#map%3CK,%20V%3E"><code>map</code></a>)</li><li>the cost of operations increases compared to a <a href="/docs/reference/types#big_map%3CK,%20V%3E"><code>big_map</code></a></li></ul></div></div><p>An Archetype <a href="/docs/asset">asset</a> may now be compiled as an iterable big map; it then benefits from the <em>whole</em> asset <a href="/docs/asset#api">API</a>. For example:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token declaration" style="color:rgb(233, 72, 21)">asset</span><span class="token plain"> car </span><span class="token section" style="color:rgb(255, 184, 108)">to</span><span class="token plain"> </span><span class="token type" style="color:rgb(241, 250, 140)">iterable_big_map</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  vin       </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token type" style="color:rgb(241, 250, 140)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  nbdoors   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token type" style="color:rgb(241, 250, 140)">nat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  nbrepairs </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token type" style="color:rgb(241, 250, 140)">nat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  owner     </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token type" style="color:rgb(241, 250, 140)">address</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="principle">Principle<a class="hash-link" href="#principle" title="Direct link to heading">​</a></h2><p>Since it is always possible to iterate from <code>1</code> to <code>n</code>, the idea is to create a big map that associates the iteration integer value to the map's key value. It is also necessary to associate the map key back to this iteration integer (see <em>remove</em> operation below).</p><p>The following example illustrates the design of two big maps called <em>Keys</em> and <em>Values</em> derived from the original map:</p><center><img src="/img/blog/ibm1-light.svg" alt="IBM1" class="themedImage_ToTc themedImage--light_HNdA" style="width:80%"><img src="/img/blog/ibm1-dark.svg" alt="IBM1" class="themedImage_ToTc themedImage--dark_i4oU" style="width:80%"></center><ul><li><em>Keys</em> associates the iteration integer with the map key</li><li><em>Values</em> is the original map where the value is augmented with the iteration integer</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="add">Add<a class="hash-link" href="#add" title="Direct link to heading">​</a></h3><p>The <em>add</em> operation consists in:</p><ul><li>associating the next iteration value (<code>Size + 1</code>) with the new key in the <em>Keys</em> map</li><li>associating the new key to the pair of next iteration value and new value in the <em>Values</em> map</li><li>incrementing the <em>Size</em> value</li></ul><p>The operation is illustrated below with the addition of the key <code>131</code> with value <code>e5</code>:</p><center><img src="/img/blog/ibm2-light.svg" alt="IBM1" class="themedImage_ToTc themedImage--light_HNdA" style="width:80%"><img src="/img/blog/ibm2-dark.svg" alt="IBM1" class="themedImage_ToTc themedImage--dark_i4oU" style="width:80%"></center><h3 class="anchor anchorWithStickyNavbar_LWe7" id="update">Update<a class="hash-link" href="#update" title="Direct link to heading">​</a></h3><p>The <em>update</em> operation is straightforward and consists in updating the <em>Values</em> map with the new value.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="remove">Remove<a class="hash-link" href="#remove" title="Direct link to heading">​</a></h3><p>The <em>remove</em> operation is a step-wise process:</p><ul><li>the iteration index of the removed key is retrieved from the <em>Values</em> map and used to remove the entry in the <em>Keys</em> map</li><li>the entry is then removed from the <em>Values</em> map</li></ul><p>At this stage, the iteration values are not consistent since one iteration value has been removed.</p><p>It is then necessary to associate the last added element with the removed iteration integer by:</p><ul><li>removing the last iteration integer and associate back the removed iteration integer with the last added key in the <em>Keys</em> mpa</li><li>updating the iteration integer of last added key in the <em>Values</em> map</li></ul><p>The process is illustrated below with the removal of the entry <code>29</code> (associated with iteration value <code>2</code>):</p><center><img src="/img/blog/ibm3-light.svg" alt="IBM1" class="themedImage_ToTc themedImage--light_HNdA" style="width:80%"><img src="/img/blog/ibm3-dark.svg" alt="IBM1" class="themedImage_ToTc themedImage--dark_i4oU" style="width:80%"></center><h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementation">Implementation<a class="hash-link" href="#implementation" title="Direct link to heading">​</a></h2><p>An iterable big map is implemented as a triplet of two big maps (<em>Keys</em> and <em>Values</em>) and one <em>Size</em> integer.</p><p>The screenshot below of <a href="https://better-call.dev/" target="_blank" rel="noopener noreferrer">Better Call Dev</a> shows the resulting triplet:</p><p><img loading="lazy" alt="ibm4" src="/assets/images/ibm4-4f2e1d8cdb6958333d4639b10c76426d.png" width="1238" height="226" class="img_ev3q"></p>]]></content>
        <author>
            <name>Benoit Rognier</name>
            <uri>https://www.linkedin.com/in/benoitrognier/</uri>
        </author>
        <category label="big map" term="big map"/>
        <category label="new feature" term="new feature"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Events]]></title>
        <id>events</id>
        <link href="https://archetype-lang.org/blog/events"/>
        <updated>2022-03-21T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Edit : from version 1.3.5, the event sink mechansim is now replaced by native protocol's events from Kathmandu.]]></summary>
        <content type="html"><![CDATA[<div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Edit : from version <code>1.3.5</code>, the event sink mechansim is now replaced by native protocol's <a href="https://tezos.gitlab.io/active/event.html" target="_blank" rel="noopener noreferrer">events</a> from <a href="https://tezos.gitlab.io/protocols/014_kathmandu.html" target="_blank" rel="noopener noreferrer">Kathmandu</a>.</p></div></div><p>We present the new instruction <code>emit</code> to emit an event, in a similar an event is emitted in languages like solidity.</p><p>This feature was suggested by <a href="https://www.nomadic-labs.com/" target="_blank" rel="noopener noreferrer">Nomadic Labs</a>.</p><p>An event is declared with the <code>event</code> keyword, similarly to a record:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token declaration" style="color:rgb(233, 72, 21)">event</span><span class="token plain"> HighestBidIncreased </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  bidder </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token type" style="color:rgb(241, 250, 140)">address</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  amount </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token type" style="color:rgb(241, 250, 140)">tez</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>emit</code> instruction is then used in an entrypoint as illustrated below:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token entry" style="color:rgb(233, 72, 21)">entry</span><span class="token plain"> bid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">/* ... */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  </span><span class="token control" style="color:rgb(189, 147, 249)">if</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249);font-style:italic">transferred</span><span class="token plain"> &gt; highestbid </span><span class="token control" style="color:rgb(189, 147, 249)">then</span><span class="token plain"> </span><span class="token control" style="color:rgb(189, 147, 249)">begin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">    highestbid </span><span class="token function" style="color:rgb(80, 250, 123)">:=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249);font-style:italic">transferred</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">    </span><span class="token builtin" style="color:rgb(68, 134, 255)">emit</span><span class="token function" style="color:rgb(80, 250, 123)">&lt;</span><span class="token plain">HighestBidIncreased&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249);font-style:italic">source</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249);font-style:italic">transferred</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  </span><span class="token control" style="color:rgb(189, 147, 249)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-sink-deprecated"><s>Event sink</s> <i>deprecated</i><a class="hash-link" href="#event-sink-deprecated" title="Direct link to heading">​</a></h3><p>The emition of an event generates a call to a contract called <em>event sink</em>. This contract provides a single entrypoint named <em>event</em> which takes an argument typed <a href="/docs/reference/types#bytes"><code>bytes</code></a>.</p><p>The code of the event sink contract is then:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token archetype" style="color:#2FCAC3">archetype</span><span class="token plain"> event_sink</span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token entry" style="color:rgb(233, 72, 21)">entry</span><span class="token plain"> </span><span class="token identifier">%event</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">arg </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token type" style="color:rgb(241, 250, 140)">bytes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The event sink is deployed at the address <a href="https://better-call.dev/ithacanet/KT1AHVF5m8XaWPQCGgfAsZ9eSJJZ7WVGV2hE/operations" target="_blank" rel="noopener noreferrer"><code>KT1AHVF5m8XaWPQCGgfAsZ9eSJJZ7WVGV2hE</code></a> on the mainnet, and at <a href="https://better-call.dev/ithacanet/KT1ReVgfaUqHzWWiNRfPXQxf7TaBLVbxrztw/operations" target="_blank" rel="noopener noreferrer"><code>KT1ReVgfaUqHzWWiNRfPXQxf7TaBLVbxrztw</code></a>on Ithacanet.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="event">Event<a class="hash-link" href="#event" title="Direct link to heading">​</a></h3><p>The <code>emit</code> instruction builds the event argument as a triplet of:</p><ul><li>the event name</li><li>the event annotated Michelson type</li><li>packed value of the event data</li></ul><p>In the example of the <em>HighestBidIncreased</em> presented above, the following <code>emit</code> instruction:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token builtin" style="color:rgb(68, 134, 255)">emit</span><span class="token function" style="color:rgb(80, 250, 123)">&lt;</span><span class="token plain">HighestBidIncreased&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249);font-style:italic">source</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249);font-style:italic">transferred</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>is equivalent to:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token decl" style="color:rgb(189, 147, 249)">const</span><span class="token plain"> e = </span><span class="token crypto" style="color:rgb(68, 134, 255)">pack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  </span><span class="token string" style="color:rgb(255, 121, 198)">"HighestBidIncreased"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  </span><span class="token string" style="color:rgb(255, 121, 198)">"pair (address %bidder) (tez %amount)"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  </span><span class="token crypto" style="color:rgb(68, 134, 255)">pack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">    bidder = </span><span class="token constant" style="color:rgb(189, 147, 249);font-style:italic">source</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">    amount = </span><span class="token constant" style="color:rgb(189, 147, 249);font-style:italic">transferred</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token decl" style="color:rgb(189, 147, 249)">const</span><span class="token plain"> event_sink = KT1AHVF5m8XaWPQCGgfAsZ9eSJJZ7WVGV2hE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token transfer-rule builtin" style="color:rgb(68, 134, 255)">transfer </span><span class="token transfer-rule">0tz </span><span class="token transfer-rule builtin" style="color:rgb(68, 134, 255)">to</span><span class="token transfer-rule"> </span><span class="token plain">event_sink </span><span class="token builtin" style="color:rgb(68, 134, 255)">call</span><span class="token plain"> </span><span class="token declaration" style="color:rgb(233, 72, 21)">event</span><span class="token plain">&lt;</span><span class="token type" style="color:rgb(241, 250, 140)">bytes</span><span class="token plain">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="retrieve-events">Retrieve events<a class="hash-link" href="#retrieve-events" title="Direct link to heading">​</a></h3><p>A Typescript library, called the <a href="https://www.npmjs.com/package/@completium/event-well-crank" target="_blank" rel="noopener noreferrer"><em>crank</em></a>, is available to retrieve event data from a DApp.</p><p>The <em>crank</em> receives events from contracts and executes event handler functions.</p><p>For example, the <code>handleHBI</code> function below is executed when a <code>HighestBidIncreased</code> event is emitted by the contract:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> startCrank </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'@completium/event-well-crank'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token imports">  </span><span class="token imports maybe-class-name">HighestBidIncreased</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token imports">  register_HighestBidIncreased </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'./bid-bindings.ts'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> contract </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"KT1..."</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// address of the emitter contract</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">handleHBI</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter literal-property property">hbi</span><span class="token parameter"> </span><span class="token parameter operator">:</span><span class="token parameter"> </span><span class="token parameter maybe-class-name">HighestBidIncreased</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">hbi</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation property-access">bidder</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string string" style="color:rgb(255, 121, 198)"> is now the highest bid bidder.</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// register Handler</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">register_HighestBidIncreased</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">contract</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> handleHBI</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Start crank</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">startCrank</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The HighestBidIncreased type and register_HighestBidIncreased function are bindings code generated by completium CLI:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">$ completium-cli generate bindings-ts bid.arl &gt; bid-bindings.ts</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dapp-example">DApp example<a class="hash-link" href="#dapp-example" title="Direct link to heading">​</a></h3><p>The <em>Bulb</em> DApp example is available <a href="https://github.com/completium/bulb-event-demo" target="_blank" rel="noopener noreferrer">here</a>.</p><p>The bulb is switched on/off by receiving events from the bulb contract. The contract is designed as a simplistic state machine with On and Off states. Two events <code>SwitchedOn</code> and <code>SwitchedOff</code> are defined and emitted respectively by <code>switchOn</code> and <code>switchOff</code> entrypoints:</p><div class="language-archetype codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgb(31 58 58)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-archetype codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token archetype" style="color:#2FCAC3">archetype</span><span class="token plain"> bulb</span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token declaration" style="color:rgb(233, 72, 21)">states</span><span class="token plain"> = </span><span class="token punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token plain"> On </span><span class="token punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token plain"> Off</span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token declaration" style="color:rgb(233, 72, 21)">event</span><span class="token plain"> SwitchedOn </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token declaration" style="color:rgb(233, 72, 21)">event</span><span class="token plain"> SwitchedOff </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token entry" style="color:rgb(233, 72, 21)">transition</span><span class="token plain"> switchOn</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  </span><span class="token section" style="color:rgb(255, 184, 108)">from</span><span class="token plain"> Off </span><span class="token section" style="color:rgb(255, 184, 108)">to</span><span class="token plain"> On</span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  </span><span class="token section" style="color:rgb(255, 184, 108)">with effect</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(68, 134, 255)">emit</span><span class="token function" style="color:rgb(80, 250, 123)">&lt;</span><span class="token plain">SwitchedOn&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token entry" style="color:rgb(233, 72, 21)">transition</span><span class="token plain"> switchOff</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  </span><span class="token section" style="color:rgb(255, 184, 108)">from</span><span class="token plain"> On </span><span class="token section" style="color:rgb(255, 184, 108)">to</span><span class="token plain"> Off</span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain">  </span><span class="token section" style="color:rgb(255, 184, 108)">with effect</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(68, 134, 255)">emit</span><span class="token function" style="color:rgb(80, 250, 123)">&lt;</span><span class="token plain">SwitchedOff&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2;border-radius:0px"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A live bulb demo is available <a href="https://completium.github.io/bulb-event-demo/" target="_blank" rel="noopener noreferrer">here</a>.</p>]]></content>
        <author>
            <name>Benoit Rognier</name>
            <uri>https://www.linkedin.com/in/benoitrognier/</uri>
        </author>
        <category label="events" term="events"/>
        <category label="new feature" term="new feature"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Welcome]]></title>
        <id>welcome</id>
        <link href="https://archetype-lang.org/blog/welcome"/>
        <updated>2021-08-26T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We are delighted to present this new documentation for the Archetype language.]]></summary>
        <content type="html"><![CDATA[<p>We are delighted to present this new documentation for the <a href="https://archetype-lang.org/" target="_blank" rel="noopener noreferrer">Archetype</a> language.</p>]]></content>
        <author>
            <name>Benoit Rognier</name>
            <uri>https://www.linkedin.com/in/benoitrognier/</uri>
        </author>
        <author>
            <name>Guillaume Duhamel</name>
            <uri>https://www.linkedin.com/in/guillaumeduhamel/</uri>
        </author>
        <category label="hello" term="hello"/>
        <category label="docusaurus" term="docusaurus"/>
    </entry>
</feed>