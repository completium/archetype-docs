"use strict";(self.webpackChunkarchetype_docs=self.webpackChunkarchetype_docs||[]).push([[4195],{7036:(e,t,n)=>{var a=n(4836);t.Z=void 0;var r=a(n(4938)),i=n(5893),s=(0,r.default)((0,i.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.Z=s},6215:(e,t,n)=>{var a=n(4836);t.Z=void 0;var r=a(n(4938)),i=n(5893),s=(0,r.default)((0,i.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");t.Z=s},1899:(e,t,n)=>{var a=n(4836);t.Z=void 0;var r=a(n(4938)),i=n(5893),s=(0,r.default)((0,i.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy");t.Z=s},1686:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var a=n(7462),r=(n(7294),n(3905));const i={},s=void 0,o={type:"mdx",permalink:"/comment0",source:"@site/src/pages/comment0.md",description:"archetype address tez nat entry const now > ?: transfer",frontMatter:{}},l=[],c={toc:l};function d(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/docs/reference/declarations/contract"},(0,r.kt)("inlineCode",{parentName:"a"},"archetype"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/types#address"},(0,r.kt)("inlineCode",{parentName:"a"},"address"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/types#tez"},(0,r.kt)("inlineCode",{parentName:"a"},"tez"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/types#nat"},(0,r.kt)("inlineCode",{parentName:"a"},"nat"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#entry"},(0,r.kt)("inlineCode",{parentName:"a"},"entry"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/instructions/localvariable#const"},(0,r.kt)("inlineCode",{parentName:"a"},"const"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/expressions/constants#now"},(0,r.kt)("inlineCode",{parentName:"a"},"now"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/expressions/operators/arithmetic#a--b-11"},(0,r.kt)("inlineCode",{parentName:"a"},">"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/expressions/controls#a--b--c"},(0,r.kt)("inlineCode",{parentName:"a"},"?:"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/instructions/operation#transfer"},(0,r.kt)("inlineCode",{parentName:"a"},"transfer"))),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"pay")," entrypoint applies a penalty fee of 7% per day beyond deadline.\nArchetype language provides types, like rational (see ",(0,r.kt)("inlineCode",{parentName:"p"},"7%"),") or duration (see ",(0,r.kt)("inlineCode",{parentName:"p"},"1d"),"), to easily implement readable business rules."))}d.isMDXComponent=!0},1847:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var a=n(7462),r=(n(7294),n(3905));const i={},s=void 0,o={type:"mdx",permalink:"/comment1",source:"@site/src/pages/comment1.md",description:"archetype address nat entry called by require transferred > now effect :=",frontMatter:{}},l=[],c={toc:l};function d(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/docs/reference/declarations/contract"},(0,r.kt)("inlineCode",{parentName:"a"},"archetype"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/types#address"},(0,r.kt)("inlineCode",{parentName:"a"},"address"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/types#nat"},(0,r.kt)("inlineCode",{parentName:"a"},"nat"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#entry"},(0,r.kt)("inlineCode",{parentName:"a"},"entry"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#called-by"},(0,r.kt)("inlineCode",{parentName:"a"},"called by"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#require"},(0,r.kt)("inlineCode",{parentName:"a"},"require"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/expressions/constants#transferred"},(0,r.kt)("inlineCode",{parentName:"a"},"transferred"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/expressions/operators/arithmetic#a--b-11"},(0,r.kt)("inlineCode",{parentName:"a"},">"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/expressions/constants#now"},(0,r.kt)("inlineCode",{parentName:"a"},"now"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#effect"},(0,r.kt)("inlineCode",{parentName:"a"},"effect"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/instructions/assignment#a--b"},(0,r.kt)("inlineCode",{parentName:"a"},":="))),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"set_value")," entrypoint executes only if the caller is the admin (see ",(0,r.kt)("inlineCode",{parentName:"p"},"called by"),"), the transferred amount is greater than value (see ",(0,r.kt)("inlineCode",{parentName:"p"},"r1"),"), and if it is called before 2023 (see ",(0,r.kt)("inlineCode",{parentName:"p"},"r2"),")."))}d.isMDXComponent=!0},4770:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var a=n(7462),r=(n(7294),n(3905));const i={},s=void 0,o={type:"mdx",permalink:"/comment2",source:"@site/src/pages/comment2.md",description:"archetype tez address states transition transferred >",frontMatter:{}},l=[],c={toc:l};function d(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/docs/reference/declarations/contract"},(0,r.kt)("inlineCode",{parentName:"a"},"archetype"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/types#tez"},(0,r.kt)("inlineCode",{parentName:"a"},"tez"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/types#address"},(0,r.kt)("inlineCode",{parentName:"a"},"address"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/declarations/compositetypes#states"},(0,r.kt)("inlineCode",{parentName:"a"},"states"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#transition"},(0,r.kt)("inlineCode",{parentName:"a"},"transition"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/expressions/constants#transferred"},(0,r.kt)("inlineCode",{parentName:"a"},"transferred"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/expressions/operators/arithmetic#a--b-11"},(0,r.kt)("inlineCode",{parentName:"a"},">"))))}d.isMDXComponent=!0},8002:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var a=n(7462),r=(n(7294),n(3905));const i={},s=void 0,o={type:"mdx",permalink:"/comment3",source:"@site/src/pages/comment3.md",description:"archetype asset string nat entry select = updateall",frontMatter:{}},l=[],c={toc:l};function d(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/docs/reference/declarations/contract"},(0,r.kt)("inlineCode",{parentName:"a"},"archetype"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/declarations/storage#asset"},(0,r.kt)("inlineCode",{parentName:"a"},"asset"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/types#string"},(0,r.kt)("inlineCode",{parentName:"a"},"string"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/types#nat"},(0,r.kt)("inlineCode",{parentName:"a"},"nat"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#entry"},(0,r.kt)("inlineCode",{parentName:"a"},"entry"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/expressions/asset#aselectp"},(0,r.kt)("inlineCode",{parentName:"a"},"select"))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/expressions/operators/arithmetic#a--b-7"},(0,r.kt)("inlineCode",{parentName:"a"},"="))," ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/instructions/asset#aupdate_all-u-"},(0,r.kt)("inlineCode",{parentName:"a"},"update_all"))),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"incr")," entrypoint increments the ",(0,r.kt)("inlineCode",{parentName:"p"},"nb_repairs")," field of vehicles with a number of repairs equal to ",(0,r.kt)("inlineCode",{parentName:"p"},"n"),"."))}d.isMDXComponent=!0},3856:(e,t,n)=>{n.r(t),n.d(t,{default:()=>K});var a=n(9960),r=n(2263),i=n(6215),s=n(1899),o=n(7036),l=n(3366),c=n(7462),d=n(7294),p=n(6010),m=n(7192),f=n(1539),h=n(2110),u=n(8979);function x(e){return(0,u.Z)("MuiContainer",e)}(0,n(6087).Z)("MuiContainer",["root","disableGutters","fixed","maxWidthXs","maxWidthSm","maxWidthMd","maxWidthLg","maxWidthXl"]);var y=n(8216),k=n(5893);const g=["className","component","disableGutters","fixed","maxWidth"],N=(0,h.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${(0,y.Z)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}})((({theme:e,ownerState:t})=>(0,c.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}})),(({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce(((t,n)=>{const a=e.breakpoints.values[n];return 0!==a&&(t[e.breakpoints.up(n)]={maxWidth:`${a}${e.breakpoints.unit}`}),t}),{})),(({theme:e,ownerState:t})=>(0,c.Z)({},"xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}}))),E=d.forwardRef((function(e,t){const n=(0,f.Z)({props:e,name:"MuiContainer"}),{className:a,component:r="div",disableGutters:i=!1,fixed:s=!1,maxWidth:o="lg"}=n,d=(0,l.Z)(n,g),h=(0,c.Z)({},n,{component:r,disableGutters:i,fixed:s,maxWidth:o}),u=(e=>{const{classes:t,fixed:n,disableGutters:a,maxWidth:r}=e,i={root:["root",r&&`maxWidth${(0,y.Z)(String(r))}`,n&&"fixed",a&&"disableGutters"]};return(0,m.Z)(i,x,t)})(h);return(0,k.jsx)(N,(0,c.Z)({as:r,ownerState:h,className:(0,p.Z)(u.root,a),ref:t},d))}));var C=n(6292),v=n(5861),Z=n(6886),b=n(4810),w=n(614),P=n(7452),M=n(1686),S=n(1847),_=n(4770),T=n(8002);const W="getstarted_JIFA",R="leftpannel_UCYo",z="rightpannel_sS8d",L="biglogo_QK6Q",I="control_HVTu",A="npminstall_hUIG",D="designtagline_kEQy",F="smartdesign_Te77",j="selectedsd_g9YR",G=()=>d.createElement(a.Z,{to:"/docs/introduction",style:{textDecoration:"none"}},d.createElement(C.Z,{variant:"contained",disableElevation:!0,className:W,style:{textTransform:"none",fontFamily:"IBM Plex Sans",fontWeight:"bold",fontSize:"16px",borderRadius:"10px",padding:"12px",paddingLeft:"18px",paddingRight:"18px"},sx:{mr:{xs:0,sm:2}},endIcon:d.createElement(i.Z,null)},"Get started")),X=()=>d.createElement("div",{className:L,style:{height:"100%",width:"100%",backgroundRepeat:"no-repeat",backgroundPosition:"center center"}}),B=()=>d.createElement(v.Z,{variant:"h2",style:{fontFamily:"Montserrat"}},"Smart Contracts under ",d.createElement("span",{className:I},"Control")),$=()=>d.createElement(v.Z,{style:{fontFamily:"IBM Plex Sans"}},"Archetype is a general purpose language to develop Smart Contracts on the ",d.createElement(a.Z,{to:"https://tezos.com/"},"Tezos")," blockchain, with exclusive features to ease development, tests and formal verification."),q=()=>{const[e,t]=(0,d.useState)(!1);return d.createElement(C.Z,{className:A,style:{textTransform:"none",fontFamily:"Roboto Mono",fontSize:"14px",borderRadius:"10px",borderWidth:"1px",padding:"12px",paddingLeft:"18px",paddingRight:"18px",width:"100%"},sx:{display:"inline-block",justifyContent:"start",overflowX:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",position:"relative",pr:5},disableRipple:!0,variant:"outlined",endIcon:e?d.createElement(o.Z,{color:"secondary",sx:{color:"#2fcac3"},style:{verticalAlign:"text-top"}}):d.createElement(s.Z,{style:{verticalAlign:"text-top"}}),onClick:()=>{t(!0),navigator.clipboard.writeText("npm i -g @completium/completium-cli"),setTimeout((()=>t(!1)),2e3)}},"npm i -g @completium/completium-cli")},H=()=>d.createElement(E,{maxWidth:!1,className:R,sx:{height:"calc(100vh - 60px)"}},d.createElement(Z.ZP,{container:!0,style:{height:"100%",marginTop:"0px"},spacing:4,direction:"column",justifyContent:"flex-start",alignItems:"stretch"},d.createElement(Z.ZP,{item:!0,style:{height:"30%"}},d.createElement(Z.ZP,{container:!0,direction:"column",justifyContent:"flex-end",style:{height:"100%"}},d.createElement(Z.ZP,{item:!0,xs:8},d.createElement(X,null)))),d.createElement(Z.ZP,{item:!0},d.createElement(Z.ZP,{spacing:3,style:{paddingLeft:"0%",paddingRight:"10%"},container:!0},d.createElement(Z.ZP,{xs:12,sm:12,md:2.4}),d.createElement(Z.ZP,{item:!0,xs:12,sm:12,md:9.6},d.createElement(B,null)),d.createElement(Z.ZP,{xs:12,sm:12,md:2.4}),d.createElement(Z.ZP,{item:!0,xs:12,sm:12,md:9.6},d.createElement($,null)),d.createElement(Z.ZP,{xs:12,sm:12,md:2.4}),d.createElement(Z.ZP,{item:!0,xs:12,sm:12,md:9.6},d.createElement(Z.ZP,{spacing:1,container:!0,justifyContent:"flex-start",sx:{display:"flex",flexWrap:"wrap","&& > *":{minWidth:"clamp(0px, (492px - 100%) * 999 ,100%)"}}},d.createElement(Z.ZP,{item:!0},d.createElement(G,null)),d.createElement(Z.ZP,{item:!0,xs:12,sm:12,md:8},d.createElement(q,null)))))))),O=[{title:"Easy Business Logic",tagline:"Rational, date and duration types make business logic easy to express.",link:"/docs/language-basics/types"},{title:"Explicit Execution Conditions",tagline:"Execution conditions for the contract to execute are easy to read and check.",link:"/docs/reference/declarations/entrypoint#sections"},{title:"State Machine Design",tagline:"Design the contract as a state machine, with guard conditions on transitions.",link:"/docs/statemachine"},{title:"Rich Storage API",tagline:"Rich API to access and manipulate collections of assets.",link:"/docs/asset"}],V=[{code:"archetype pay_with_penalty(holder : address, cost : tez, deadline : date)\n\nentry pay () {\n  const penalty = now > deadline ? 7% * (now - deadline) / 1d : 0;\n  transfer ((1 + penalty) * cost) to holder\n}",comment:d.createElement(M.default,null)},{code:'archetype exec_cond_demo(admin : address, value : nat)\n\nentry set_value (v : nat) {\n  called by admin\n  require {\n    r1: transferred > value otherwise "INSUFFICIENT_TRANSFERRED_AMOUNT";\n    r2: now < 2023-01-01    otherwise "TOO_LATE";\n  }\n  effect { value := v; }\n}',comment:d.createElement(S.default,null)},{code:"archetype state_machine_demo(value : tez, holder : address)\n\nstates =\n| Created initial\n| Initialized\n\ntransition initialize () {\n  from Created to Initialized\n  when { transferred > value }\n}",comment:d.createElement(_.default,null)},{code:"archetype asset_demo\n\nasset vehicle {\n  vin         : string;\n  nb_repairs  : nat  = 0;\n}\n\nentry incr(n : nat) {\n  vehicle.select(the.nb_repairs = n).update_all({ nb_repairs += 1 })\n}",comment:d.createElement(T.default,null)}],U=e=>d.createElement(Z.ZP,{item:!0,xs:12,sm:12,md:6},d.createElement("div",{onClick:()=>{e.setSelected(e.id),e.setActive(!1)}},d.createElement(Z.ZP,{className:F+" "+(e.selected?j:""),container:!0,direction:"column",style:{padding:"12px",borderRadius:"8px"}},d.createElement(Z.ZP,{item:!0,style:{marginBottom:"4px"}},d.createElement(v.Z,{style:{fontFamily:"Montserrat",fontSize:"18px"}},e.title)),d.createElement(Z.ZP,{item:!0},d.createElement(v.Z,{className:D,style:{fontFamily:"IBM Plex Sans"}},e.tagline)),d.createElement(Z.ZP,{item:!0},d.createElement(a.Z,{to:e.link,style:{position:"relative",marginTop:"4px",textDecoration:"none"}},"Learn more",d.createElement(i.Z,{style:{position:"absolute",top:"0px"}})))))),Q=e=>d.createElement(Z.ZP,{container:!0,spacing:2,style:{paddingLeft:"3%",paddingRight:"5%",marginTop:"10px"}},O.map(((t,n)=>d.createElement(U,{key:"sd"+n,id:n,title:t.title,tagline:t.tagline,link:t.link,selected:e.selected==n,setSelected:e.setSelected,setActive:e.setActive})))),Y=()=>{const[e,t]=(0,d.useState)(0),[n,a]=(0,d.useState)(!0);return(0,d.useEffect)((()=>{let e=null;return n?e=setInterval((()=>{t((e=>(e+1)%4))}),15e3):(clearInterval(e),setTimeout((()=>{a(!0)}),3e4)),()=>clearInterval(e)}),[n,e]),d.createElement(E,{maxWidth:!1,className:z,sx:{minHeight:"calc(100vh - 60px)"}},d.createElement(Z.ZP,{container:!0,style:{height:"100%"},direction:"column",justifyContent:"flex-start",alignItems:"center"},d.createElement(Z.ZP,{item:!0},d.createElement(v.Z,{variant:"h5",style:{fontFamily:"Montserrat",margin:"40px"}},"Control with Smart Designs")),d.createElement(Z.ZP,{item:!0},d.createElement(Q,{selected:e,setSelected:t,setActive:a})),d.createElement(Z.ZP,{item:!0,style:{width:"100%"}},d.createElement(Z.ZP,{container:!0,direction:"row",justifyContent:"flex-start",style:{paddingLeft:"calc(3% + 12px)",paddingRight:"5%",marginTop:"10px"}},d.createElement(v.Z,{style:{fontFamily:"IBM Plex Sans",marginBottom:"12px"}},"Example:"))),d.createElement(Z.ZP,{item:!0,style:{width:"100%",paddingLeft:"20px"}},d.createElement(w.Z,{className:"language-archetype"},V[e].code)),d.createElement(Z.ZP,{item:!0,className:D,style:{paddingLeft:"calc(3% + 12px)",paddingRight:"5%",width:"100%"}},V[e].comment)))},J=()=>d.createElement(E,{maxWidth:!1,style:{padding:0,overflow:"auto"}},d.createElement(Z.ZP,{container:!0},d.createElement(Z.ZP,{item:!0,xs:12,sm:12,md:6},d.createElement(H,null)),d.createElement(Z.ZP,{item:!0,xs:12,sm:12,md:6},d.createElement(Y,null))));function K(){const{siteConfig:e}=(0,r.Z)();return d.createElement(P.Z,{title:`${e.title}`,description:"Smart Contract Archetype Language"},d.createElement(b.Z,{injectFirst:!0},d.createElement(J,null)))}}}]);