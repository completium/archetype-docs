"use strict";(self.webpackChunkarchetype_docs=self.webpackChunkarchetype_docs||[]).push([[4311],{1519:(e,t,a)=>{a.d(t,{Z:()=>u});var n=a(3366),i=a(7462),l=a(7294),r=a(6010),o=a(7192),s=a(1796),c=a(2110),p=a(1539),d=a(8979);function m(e){return(0,d.Z)("MuiDivider",e)}(0,a(6087).Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var h=a(5893);const k=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],g=(0,c.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.absolute&&t.absolute,t[a.variant],a.light&&t.light,"vertical"===a.orientation&&t.vertical,a.flexItem&&t.flexItem,a.children&&t.withChildren,a.children&&"vertical"===a.orientation&&t.withChildrenVertical,"right"===a.textAlign&&"vertical"!==a.orientation&&t.textAlignRight,"left"===a.textAlign&&"vertical"!==a.orientation&&t.textAlignLeft]}})((({theme:e,ownerState:t})=>(0,i.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:e.palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:(0,s.Fq)(e.palette.divider,.08)},"inset"===t.variant&&{marginLeft:72},"middle"===t.variant&&"horizontal"===t.orientation&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},"middle"===t.variant&&"vertical"===t.orientation&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},"vertical"===t.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"})),(({theme:e,ownerState:t})=>(0,i.Z)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:`thin solid ${e.palette.divider}`,top:"50%",content:'""',transform:"translateY(50%)"}})),(({theme:e,ownerState:t})=>(0,i.Z)({},t.children&&"vertical"===t.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:`thin solid ${e.palette.divider}`,transform:"translateX(0%)"}})),(({ownerState:e})=>(0,i.Z)({},"right"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}}))),f=(0,c.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.wrapper,"vertical"===a.orientation&&t.wrapperVertical]}})((({theme:e,ownerState:t})=>(0,i.Z)({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},"vertical"===t.orientation&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}))),u=l.forwardRef((function(e,t){const a=(0,p.Z)({props:e,name:"MuiDivider"}),{absolute:l=!1,children:s,className:c,component:d=(s?"div":"hr"),flexItem:u=!1,light:b=!1,orientation:v="horizontal",role:y=("hr"!==d?"separator":void 0),textAlign:w="center",variant:N="fullWidth"}=a,x=(0,n.Z)(a,k),A=(0,i.Z)({},a,{absolute:l,component:d,flexItem:u,light:b,orientation:v,role:y,textAlign:w,variant:N}),Z=(e=>{const{absolute:t,children:a,classes:n,flexItem:i,light:l,orientation:r,textAlign:s,variant:c}=e,p={root:["root",t&&"absolute",c,l&&"light","vertical"===r&&"vertical",i&&"flexItem",a&&"withChildren",a&&"vertical"===r&&"withChildrenVertical","right"===s&&"vertical"!==r&&"textAlignRight","left"===s&&"vertical"!==r&&"textAlignLeft"],wrapper:["wrapper","vertical"===r&&"wrapperVertical"]};return(0,o.Z)(p,m,n)})(A);return(0,h.jsx)(g,(0,i.Z)({as:d,className:(0,r.Z)(Z.root,c),role:y,ref:t,ownerState:A},x,{children:s?(0,h.jsx)(f,{className:Z.wrapper,ownerState:A,children:s}):null}))}))},5861:(e,t,a)=>{a.d(t,{Z:()=>v});var n=a(3366),i=a(7462),l=a(7294),r=a(6010),o=a(9707),s=a(7192),c=a(2110),p=a(1539),d=a(8216),m=a(8979);function h(e){return(0,m.Z)("MuiTypography",e)}(0,a(6087).Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var k=a(5893);const g=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],f=(0,c.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.variant&&t[a.variant],"inherit"!==a.align&&t[`align${(0,d.Z)(a.align)}`],a.noWrap&&t.noWrap,a.gutterBottom&&t.gutterBottom,a.paragraph&&t.paragraph]}})((({theme:e,ownerState:t})=>(0,i.Z)({margin:0},t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16}))),u={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},b={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},v=l.forwardRef((function(e,t){const a=(0,p.Z)({props:e,name:"MuiTypography"}),l=(e=>b[e]||e)(a.color),c=(0,o.Z)((0,i.Z)({},a,{color:l})),{align:m="inherit",className:v,component:y,gutterBottom:w=!1,noWrap:N=!1,paragraph:x=!1,variant:A="body1",variantMapping:Z=u}=c,_=(0,n.Z)(c,g),B=(0,i.Z)({},c,{align:m,color:l,className:v,component:y,gutterBottom:w,noWrap:N,paragraph:x,variant:A,variantMapping:Z}),C=y||(x?"p":Z[A]||u[A])||"span",S=(e=>{const{align:t,gutterBottom:a,noWrap:n,paragraph:i,variant:l,classes:r}=e,o={root:["root",l,"inherit"!==e.align&&`align${(0,d.Z)(t)}`,a&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return(0,s.Z)(o,h,r)})(B);return(0,k.jsx)(f,(0,i.Z)({as:C,ref:t,ownerState:B,className:(0,r.Z)(S.root,v)},_))}))},8216:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a(601).Z},4810:(e,t,a)=>{a.d(t,{Z:()=>o});a(7294);var n=a(4880),i=a(8357),l=a(5893);const r=(0,i.Z)({key:"css",prepend:!0});function o(e){const{injectFirst:t,children:a}=e;return t?(0,l.jsx)(n.C,{value:r,children:a}):a}},8864:(e,t,a)=>{a.d(t,{m:()=>i});const n="/docs/reference/expressions",i={controls:[{label:"if then else",link:n+"/controls#if-then-else"},{label:"match with",link:n+"/controls#match-with"},{label:"? :",link:n+"/controls#a--b--c"}],declaration:[{label:"let in",link:n+"/declaration"}],asset:[{label:"[]",link:n+"/asset#ak--asset_keya",desc:"Gets asset record value from key"},{label:"[].",link:n+"/asset#ak--asset_keyaf",desc:"Gets an asset field from key"},{label:"[]?.",link:n+"/asset#ak--asset_keyaf-1",desc:"Gets an option of asset field from key"},{label:"contains",link:n+"/asset#acontainsk--asset_keya",desc:"Tests whether the collection contains an asset"},{label:"count",link:n+"/asset#acount",desc:"Returns the number of assets in collection"},{label:"nth",link:n+"/asset#anthi--nat",desc:"Returns nth element in collection"},{label:"sort",link:n+"/asset#asortf",desc:"Sorts assets according to a field"},{label:"sum",link:n+"/asset#asumf",desc:"Sums values of asset field"},{label:"select",link:n+"/asset#aselectp",desc:"Selects assets that verify a predicate"},{label:"head",link:n+"/asset#aheadi--nat",desc:"Returns first assets"},{label:"tail",link:n+"/asset#ataili--nat",desc:"Returns last assets"},{label:"to_container",link:n+"/asset#ato_container",desc:"Returns collection as basic container"}],assettypes:[{label:"asset_key<A>",link:"/docs/reference/types#asset_key<A>",desc:"Type of the asset identifier"},{label:"asset_value<A>",link:"/docs/reference/types#asset_value<A>",desc:"Type of the asset data"},{label:"asset_container<A>",link:"/docs/reference/types#asset_container<A>",desc:"Type of the asset collection"},{label:"asset_view<A>",link:"/docs/reference/types#asset_view<A>",desc:"Read-only collection of assets"}],assetbuiltins:[{label:"make_asset",link:"/docs/reference/expressions/builtins#make_asset(k%20:%20asset_key<A>,%20v%20:%20asset_value<A>)",desc:"Creates an asset object from key and value"}]}},8441:(e,t,a)=>{a.d(t,{N:()=>i});const n="/docs/reference/instructions",i={sequence:[{label:"begin end",link:n+"/sequence"},{label:" ; ",link:n+"/sequence"}],localvar:[{label:"var",link:n+"/localvariable#var"},{label:"const",link:n+"/localvariable#const"},{label:"?=",link:n+"/localvariable#-"}],assignments:[{label:":=",link:n+"/assignment#a--b"},{label:"?:=",link:n+"/assignment#a--b--e"},{label:"+=",link:n+"/assignment#a--b-1"},{label:"-=",link:n+"/assignment#a---b"},{label:"*=",link:n+"/assignment#a--b-2"},{label:"/=",link:n+"/assignment#a--b-3"},{label:"&=",link:n+"/assignment#a--b-4"},{label:"|=",link:n+"/assignment#a--b-5"}],controls:[{label:"if",link:n+"/control#if"},{label:"match",link:n+"/control#match-with"},{label:"for",link:n+"/control#for"},{label:"while",link:n+"/control#while"},{label:"iter",link:n+"/control#iter"}],divergent:[{label:"fail",link:n+"/divergent#faile"},{label:"fail_some",link:n+"/divergent#fail_somee--optiont"},{label:"do_require",link:n+"/divergent#do_requiret-e"},{label:"do_fail_if",link:n+"/divergent#do_fail_ift-e"}],sets:[{label:"add",link:n+"/containers#sadde"},{label:"remove",link:n+"/containers#sremovee"},{label:"update",link:n+"/containers#supdatee-b"}],lists:[{label:"prepend",link:n+"/containers#lprepende"},{label:"reverse",link:n+"/containers#lreverse"},{label:"concat",link:n+"/containers#lconcatl"}],maps:[{label:"put",link:n+"/containers#mputk-v"},{label:"remove",link:n+"/containers#mremovek"},{label:"update",link:n+"/containers#mupdatek--k-o--optiont"}],assets:[{label:"add",link:n+"/asset#aadda",desc:"Adds a new asset in collection"},{label:"put",link:n+"/asset#aputa",desc:"Adds or replace an asset in collection"},{label:"update",link:n+"/asset#aupdatek--u-",desc:"Updates one or several fields of an asset in collection"},{label:"update_all",link:n+"/asset#aupdate_allk--u-",desc:"Updates one or several fields of an asset collection or view"},{label:"add_update",link:n+"/asset#aadd_updatek--u-",desc:"Adds a new asset or updates an asset in collection"},{label:"remove",link:n+"/asset#aremovek",desc:"Removes element from collection, partition or aggregate"},{label:"put_remove",link:n+"/asset#aput_removek-o",desc:"Puts or removes an element in collection"},{label:"remove_if",link:n+"/asset#aremove_ifp",desc:"Removes referenced assets that verify a predicate"},{label:"remove_all",link:n+"/asset#aremove_all",desc:"Removes all assets from collection"},{label:"clear",link:n+"/asset#aclear",desc:"Removes all referenced assets from an asset view"}],blockchain:[{label:"transfer",link:n+"/operation#transfer"},{label:"emit",link:n+"/operation#emit"}]}},6457:(e,t,a)=>{a.d(t,{Z:()=>d});var n=a(7294),i=a(9960),l=a(6886),r=a(1519),o=a(5861),s=a(4810),c=a(2321);const p=e=>n.createElement(l.ZP,{item:!0,container:!0,xs:12},1==e.divider?n.createElement(l.ZP,{item:!0,xs:12},n.createElement(r.Z,{className:c.Z.divider,style:{marginBottom:"8px",marginTop:"4px"}})):n.createElement("div",null),n.createElement(l.ZP,{item:!0,xs:12,sm:e.xs,md:e.xs,style:{paddingLeft:"8px"}},null==e.data.link?n.createElement("code",null,e.data.label):n.createElement(i.Z,{to:e.data.link},n.createElement("code",null,e.data.label))),n.createElement(l.ZP,{item:!0,xs:12,sm:12-e.xs,md:12-e.xs,style:{paddingLeft:"8px",marginBottom:"8px"}},n.createElement(o.Z,{style:{fontFamily:"IBM Plex Sans"}},e.data.desc)));function d(e){const t=null==e.xs?3:e.xs;return n.createElement(s.Z,{injectFirst:!0},n.createElement(l.ZP,{container:!0},n.createElement(l.ZP,{item:!0,style:{paddingLeft:"8px"}},n.createElement(o.Z,{style:{fontFamily:"IBM Plex Sans",color:"grey"}},e.title)),e.data.map(((a,i)=>n.createElement(p,{divider:i>0||0==i&&e.title.length>0,data:a,xs:t})))))}},9927:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>k,frontMatter:()=>s,metadata:()=>p,toc:()=>m});var n=a(7462),i=(a(7294),a(3905)),l=a(8441),r=a(8864),o=a(6457);const s={},c="Asset",p={unversionedId:"asset",id:"asset",title:"Asset",description:"Archetype assets provide a high-level abstraction to handle collection of structured data.",source:"@site/docs/asset.md",sourceDirName:".",slug:"/asset",permalink:"/docs/asset",draft:!1,editUrl:"https://github.com/completium/archetype-docs/blob/main/docs/asset.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Cryptography",permalink:"/docs/language-basics/crypto"},next:{title:"State Machine",permalink:"/docs/statemachine"}},d={},m=[{value:"Introduction",id:"introduction",level:2},{value:"API",id:"api",level:2},{value:"Iteration",id:"iteration",level:2},{value:"Relations",id:"relations",level:2},{value:"Partition",id:"partition",level:3},{value:"Aggregate",id:"aggregate",level:3}],h={toc:m};function k(e){let{components:t,...a}=e;return(0,i.kt)("wrapper",(0,n.Z)({},h,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"asset"},"Asset"),(0,i.kt)("p",null,"Archetype ",(0,i.kt)("em",{parentName:"p"},"assets")," provide a high-level abstraction to handle collection of structured data."),(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"Similarly to a SQL table, an ",(0,i.kt)("em",{parentName:"p"},"asset")," is a collection of data, stored in the contract storage, organized in rows and columns and defined by an identifier and a list of fields."),(0,i.kt)("p",null,"An ",(0,i.kt)("em",{parentName:"p"},"asset")," collection provides a set of instructions to manage the collection, and expressions to interrogate the collection (see ",(0,i.kt)("a",{parentName:"p",href:"/docs/asset#api"},"API")," section below for more information)."),(0,i.kt)("p",null,"For example, the following declaration defines a collection of loan data:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"asset loan identified by id {\n  id         : string;\n  subscriber : address;\n  principal  : tez;\n  interest   : rational = 2%;\n  creation   : date     = now;\n  delay      : duration = 10w; /* 10 weeks */\n}\n")),(0,i.kt)("p",null,"The declaration above creates a collection of loans; each loan is defined by a string identifier ",(0,i.kt)("inlineCode",{parentName:"p"},"id")," and five data fields (from ",(0,i.kt)("inlineCode",{parentName:"p"},"subscriber")," to ",(0,i.kt)("inlineCode",{parentName:"p"},"delay"),"). Note that fields may have a default value."),(0,i.kt)("p",null,"Refer to the ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/storage#asset"},"declaration")," section for more information."),(0,i.kt)("h2",{id:"api"},"API"),(0,i.kt)("p",null,"This section presents the application programming interface of an asset collection. Follow an item's link for a detailed presentation."),(0,i.kt)(o.Z,{title:"Instructions",data:l.N.assets,mdxType:"Api"}),(0,i.kt)("br",null),(0,i.kt)(o.Z,{title:"Expressions",data:r.m.asset,mdxType:"Api"}),(0,i.kt)("br",null),(0,i.kt)(o.Z,{title:"Utility types",data:r.m.assettypes,mdxType:"Api"}),(0,i.kt)("br",null),(0,i.kt)(o.Z,{title:"Utility builtins",data:r.m.assetbuiltins,mdxType:"Api"}),(0,i.kt)("br",null),(0,i.kt)("p",null,"A convenient aspect of this API is the possibility to ",(0,i.kt)("strong",{parentName:"p"},"combine")," expressions and instructions. For example, consider the following ",(0,i.kt)("inlineCode",{parentName:"p"},"vehicle")," asset definition:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"asset vehicle {\n  vin          : string;\n  nbrepairs    : nat  = 0;\n  dateofrepair : date = now;\n}\n")),(0,i.kt)("p",null,"The following one line code removes the top 3 recently repaired vehicles with total number of 2 repairs:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"vehicle.sort(dateofrepair).select(the.nbrepairs = 2).head(3).remove_all();\n")),(0,i.kt)("h2",{id:"iteration"},"Iteration"),(0,i.kt)("p",null,"An ",(0,i.kt)("em",{parentName:"p"},"asset")," collection is iterable with the ",(0,i.kt)("inlineCode",{parentName:"p"},"for k in ... do ... done")," loop instruction."),(0,i.kt)("p",null,"For example, the following code iterates on the ",(0,i.kt)("em",{parentName:"p"},"loan")," collection:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"var total = 0tz;\nfor k in loan do /* k is a loan key */\n  /* do something with asset with key k */\n  total += loan[k].interest * loan[k].principal\ndone\n")),(0,i.kt)("p",null,"Note that:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"assets are iterated in the natural key order."),(0,i.kt)("li",{parentName:"ul"},"Note also that the above loop instruction is equivalent to the following expression:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"var total = loan.sum(interest * principal);\n")),(0,i.kt)("h2",{id:"relations"},"Relations"),(0,i.kt)("p",null,"It is possible to specify relations between assets of two collections with asset field types ",(0,i.kt)("em",{parentName:"p"},"partition")," and ",(0,i.kt)("em",{parentName:"p"},"aggregate"),"."),(0,i.kt)("h3",{id:"partition"},"Partition"),(0,i.kt)("p",null,"A partition defines a one-to-many relation between an asset B (",(0,i.kt)("em",{parentName:"p"},"partitioning")," asset) and an asset A (",(0,i.kt)("em",{parentName:"p"},"partitioned")," asset) so that an asset from collection ",(0,i.kt)("em",{parentName:"p"},"A")," is in relation with ",(0,i.kt)("strong",{parentName:"p"},"exactly one")," asset from collection ",(0,i.kt)("em",{parentName:"p"},"B"),"; conversely an asset from collection ",(0,i.kt)("em",{parentName:"p"},"B")," is in relation with zero, one or many assets from collection ",(0,i.kt)("em",{parentName:"p"},"A"),"."),(0,i.kt)("p",null,"The following declarations define asset ",(0,i.kt)("em",{parentName:"p"},"B")," with a partition of ",(0,i.kt)("em",{parentName:"p"},"A"),", typed ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#p-q-r"},(0,i.kt)("inlineCode",{parentName:"a"},"partition<A>")),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"asset A {\n  ida : nat\n}\n\nasset B {\n  idb  : nat;\n  pofa : partition<A> /* field 'pofa' is a partition of A */\n}\n")),(0,i.kt)("p",null,"The ",(0,i.kt)("em",{parentName:"p"},"partition")," relation is ensured ",(0,i.kt)("strong",{parentName:"p"},"statically")," by the compiler as it is not possible to add straightforwardly an asset to collection ",(0,i.kt)("em",{parentName:"p"},"A"),". It is only possible through the parition field of an asset from collection B in order to ensure the relation is respected:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"B[kb].pofa.add({ ka });\n")),(0,i.kt)("p",null,"See ",(0,i.kt)("em",{parentName:"p"},"partition")," section of ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/asset#aadda"},(0,i.kt)("inlineCode",{parentName:"a"},"add"))," and ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/asset#aremovek"},(0,i.kt)("inlineCode",{parentName:"a"},"remove"))," instructions for more information."),(0,i.kt)("h3",{id:"aggregate"},"Aggregate"),(0,i.kt)("p",null,"An aggregate defines a many-to-many relation between an asset B (",(0,i.kt)("em",{parentName:"p"},"aggregating")," asset) and an asset A (",(0,i.kt)("em",{parentName:"p"},"aggregated")," asset) so that an asset from collection ",(0,i.kt)("em",{parentName:"p"},"A")," is in relation with zero, one or many assets from collection ",(0,i.kt)("em",{parentName:"p"},"B"),"; conversely an asset from collection ",(0,i.kt)("em",{parentName:"p"},"B")," is in relation with zero, one or many assets from collection ",(0,i.kt)("em",{parentName:"p"},"A"),"."),(0,i.kt)("p",null,"The following declarations define asset ",(0,i.kt)("em",{parentName:"p"},"B")," with an aggregate of ",(0,i.kt)("em",{parentName:"p"},"A"),", typed ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#aggregate%3CA%3E"},(0,i.kt)("inlineCode",{parentName:"a"},"aggregate<A>")),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"asset A {\n  ida : nat\n}\n\nasset B {\n  idb  : nat;\n  aofa : aggregate<A> /* field 'aofa' is an aggregate of A */\n}\n")),(0,i.kt)("p",null,"Adding a reference (ie. an identifier) in ",(0,i.kt)("inlineCode",{parentName:"p"},"aofa")," field fails at runtime if the asset is not in collection ",(0,i.kt)("em",{parentName:"p"},"A"),"."),(0,i.kt)("p",null,"See ",(0,i.kt)("em",{parentName:"p"},"aggregate")," section of ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/asset#aadda"},(0,i.kt)("inlineCode",{parentName:"a"},"add"))," and ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/asset#aremovek"},(0,i.kt)("inlineCode",{parentName:"a"},"remove"))," instructions for more information."))}k.isMDXComponent=!0},2321:(e,t,a)=>{a.d(t,{Z:()=>n});const n={divider:"divider_LuCZ",gradient:"gradient_kJ7D"}}}]);