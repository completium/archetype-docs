"use strict";(self.webpackChunkarchetype_docs=self.webpackChunkarchetype_docs||[]).push([[3797],{1519:function(t,e,a){a.d(e,{Z:function(){return v}});var n=a(3366),r=a(7462),i=a(7294),o=a(6010),l=a(7192),p=a(1796),s=a(2110),c=a(1539),d=a(8979);function m(t){return(0,d.Z)("MuiDivider",t)}(0,a(6087).Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var h=a(5893);const u=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],g=(0,s.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.absolute&&e.absolute,e[a.variant],a.light&&e.light,"vertical"===a.orientation&&e.vertical,a.flexItem&&e.flexItem,a.children&&e.withChildren,a.children&&"vertical"===a.orientation&&e.withChildrenVertical,"right"===a.textAlign&&"vertical"!==a.orientation&&e.textAlignRight,"left"===a.textAlign&&"vertical"!==a.orientation&&e.textAlignLeft]}})((({theme:t,ownerState:e})=>(0,r.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:t.palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:(0,p.Fq)(t.palette.divider,.08)},"inset"===e.variant&&{marginLeft:72},"middle"===e.variant&&"horizontal"===e.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===e.variant&&"vertical"===e.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===e.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"})),(({theme:t,ownerState:e})=>(0,r.Z)({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:`thin solid ${t.palette.divider}`,top:"50%",content:'""',transform:"translateY(50%)"}})),(({theme:t,ownerState:e})=>(0,r.Z)({},e.children&&"vertical"===e.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:`thin solid ${t.palette.divider}`,transform:"translateX(0%)"}})),(({ownerState:t})=>(0,r.Z)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}}))),f=(0,s.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.wrapper,"vertical"===a.orientation&&e.wrapperVertical]}})((({theme:t,ownerState:e})=>(0,r.Z)({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},"vertical"===e.orientation&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})));var v=i.forwardRef((function(t,e){const a=(0,c.Z)({props:t,name:"MuiDivider"}),{absolute:i=!1,children:p,className:s,component:d=(p?"div":"hr"),flexItem:v=!1,light:x=!1,orientation:y="horizontal",role:w=("hr"!==d?"separator":void 0),textAlign:b="center",variant:k="fullWidth"}=a,Z=(0,n.Z)(a,u),A=(0,r.Z)({},a,{absolute:i,component:d,flexItem:v,light:x,orientation:y,role:w,textAlign:b,variant:k}),N=(t=>{const{absolute:e,children:a,classes:n,flexItem:r,light:i,orientation:o,textAlign:p,variant:s}=t,c={root:["root",e&&"absolute",s,i&&"light","vertical"===o&&"vertical",r&&"flexItem",a&&"withChildren",a&&"vertical"===o&&"withChildrenVertical","right"===p&&"vertical"!==o&&"textAlignRight","left"===p&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]};return(0,l.Z)(c,m,n)})(A);return(0,h.jsx)(g,(0,r.Z)({as:d,className:(0,o.Z)(N.root,s),role:w,ref:e,ownerState:A},Z,{children:p?(0,h.jsx)(f,{className:N.wrapper,ownerState:A,children:p}):null}))}))},5861:function(t,e,a){a.d(e,{Z:function(){return y}});var n=a(3366),r=a(7462),i=a(7294),o=a(6010),l=a(9707),p=a(7192),s=a(2110),c=a(1539),d=a(8216),m=a(8979);function h(t){return(0,m.Z)("MuiTypography",t)}(0,a(6087).Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var u=a(5893);const g=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],f=(0,s.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.variant&&e[a.variant],"inherit"!==a.align&&e[`align${(0,d.Z)(a.align)}`],a.noWrap&&e.noWrap,a.gutterBottom&&e.gutterBottom,a.paragraph&&e.paragraph]}})((({theme:t,ownerState:e})=>(0,r.Z)({margin:0},e.variant&&t.typography[e.variant],"inherit"!==e.align&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16}))),v={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},x={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"};var y=i.forwardRef((function(t,e){const a=(0,c.Z)({props:t,name:"MuiTypography"}),i=(t=>x[t]||t)(a.color),s=(0,l.Z)((0,r.Z)({},a,{color:i})),{align:m="inherit",className:y,component:w,gutterBottom:b=!1,noWrap:k=!1,paragraph:Z=!1,variant:A="body1",variantMapping:N=v}=s,S=(0,n.Z)(s,g),P=(0,r.Z)({},s,{align:m,color:i,className:y,component:w,gutterBottom:b,noWrap:k,paragraph:Z,variant:A,variantMapping:N}),C=w||(Z?"p":N[A]||v[A])||"span",B=(t=>{const{align:e,gutterBottom:a,noWrap:n,paragraph:r,variant:i,classes:o}=t,l={root:["root",i,"inherit"!==t.align&&`align${(0,d.Z)(e)}`,a&&"gutterBottom",n&&"noWrap",r&&"paragraph"]};return(0,p.Z)(l,h,o)})(P);return(0,u.jsx)(f,(0,r.Z)({as:C,ref:e,ownerState:P,className:(0,o.Z)(B.root,y)},S))}))},8216:function(t,e,a){var n=a(601);e.Z=n.Z},9776:function(t,e,a){a.r(e),a.d(e,{assets:function(){return v},contentTitle:function(){return g},default:function(){return w},frontMatter:function(){return u},metadata:function(){return f},toc:function(){return x}});var n=a(7462),r=a(3366),i=a(7294),o=a(3905),l=a(9960),p=a(6886),s=a(5861),c=a(1519),d=a(2321);function m(t){return i.createElement(p.ZP,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,style:{marginTop:"0px"}},i.createElement(p.ZP,{item:!0,xs:3,sm:2,md:2},i.createElement(s.Z,{style:{fontFamily:"IBM Plex Sans",color:"grey"}},"DApp URL")),i.createElement(p.ZP,{item:!0,xs:9,sm:10,md:10},i.createElement(l.Z,{to:t.data.url},i.createElement(s.Z,{style:{fontFamily:"IBM Plex Sans"}},t.data.url))),i.createElement(p.ZP,{item:!0,xs:12},i.createElement(c.Z,{className:d.Z.divider})),i.createElement(p.ZP,{item:!0,xs:3,sm:2,md:2},i.createElement(s.Z,{style:{fontFamily:"IBM Plex Sans",color:"grey"}},"Smart Contract")),i.createElement(p.ZP,{item:!0,xs:9,sm:10,md:10},i.createElement(l.Z,{to:t.data.contract_url},i.createElement(s.Z,{style:{fontFamily:"IBM Plex Sans"}},t.data.contract))),i.createElement(p.ZP,{item:!0,xs:12},i.createElement(c.Z,{className:d.Z.divider})),i.createElement(p.ZP,{item:!0,xs:3,sm:2,md:2},i.createElement(s.Z,{style:{fontFamily:"IBM Plex Sans",color:"grey"}},"Repository")),i.createElement(p.ZP,{item:!0,xs:9,sm:10,md:10},i.createElement(l.Z,{to:t.data.repo},i.createElement(s.Z,{style:{fontFamily:"IBM Plex Sans"}},t.data.repo))))}var h=["components"],u={},g="Poll DApp",f={unversionedId:"dapps/example/index",id:"dapps/example/index",title:"Poll DApp",description:"This section presents the Poll DApp example: users can create and answer polls. An account can only answer a poll once.",source:"@site/docs/dapps/example/index.md",sourceDirName:"dapps/example",slug:"/dapps/example/",permalink:"/docs/dapps/example/",draft:!1,editUrl:"https://github.com/completium/archetype-docs/blob/main/docs/dapps/example/index.md",tags:[],version:"current",frontMatter:{},sidebar:"dapps",previous:{title:"Beacon.tsx",permalink:"/docs/dapps/project/beacon"},next:{title:"Smart Contract",permalink:"/docs/dapps/example/contract"}},v={},x=[{value:"Create a poll",id:"create-a-poll",level:2},{value:"Answer a poll",id:"answer-a-poll",level:2}],y={toc:x};function w(t){var e=t.components,a=(0,r.Z)(t,h);return(0,o.kt)("wrapper",(0,n.Z)({},y,a,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"poll-dapp"},"Poll DApp"),(0,o.kt)("p",null,"This section presents the ",(0,o.kt)("a",{parentName:"p",href:"https://completium.github.io/poll-dapp/"},(0,o.kt)("em",{parentName:"a"},"Poll DApp"))," example: users can create and answer polls. An account can only answer a poll once."),(0,o.kt)("p",null,"Poll definitions (question, image and possible answers) are stored on IPFS. The list of polls and user's answers are stored in a smart contract."),(0,o.kt)("p",null,"The DApp uses the ",(0,o.kt)("a",{parentName:"p",href:"https://mui.com/"},"MUI")," UI widget library."),(0,o.kt)(m,{data:{url:"https://completium.github.io/poll-dapp/",contract_url:"https://better-call.dev/ghostnet/KT1FcUNmyZ255yyfqWL3GC1AGqSY2vKqYwEg/operations",contract:"KT1FcUNmyZ255yyfqWL3GC1AGqSY2vKqYwEg",repo:"https://github.com/completium/poll-dapp"},mdxType:"DAppInfo"}),(0,o.kt)("h2",{id:"create-a-poll"},"Create a poll"),(0,o.kt)("p",null,"A poll is specified with a JSON file that defines the following fields:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"utterance"),': the question asked by the poll (for example "What is your favorite food?")'),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"img"),": a ",(0,o.kt)("em",{parentName:"li"},"public")," URL to illustrate the question"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"choices"),": a list of choices")),(0,o.kt)("p",null,'For example, below is the "What is your favorite food?" poll definition:'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "utterance" : "What is your favorite food?",\n  "img" : "https://1.bp.blogspot.com/-WOrNura8t1g/W6ufizUlixI/AAAAAAAAA38/X05agj6atWcxyyaRgOl07jMeaZnuF7JwgCLcBGAs/w1200-h630-p-k-no-nu/World-Food-Day.jpg",\n  "choices" : [ "Pizza", "Burger", "Sushi", "Tacos", "Croissant" ]\n}\n')),(0,o.kt)("p",null,"The poll JSON file must be then uploaded to IPFS. The online ",(0,o.kt)("a",{parentName:"p",href:"https://permanentupload.com/"},"IPFS Browser")," may be used for that. Once uploaded, the data is identified by a unique hash value."),(0,o.kt)("p",null,"For example, the hash of the above poll definition is ",(0,o.kt)("inlineCode",{parentName:"p"},"QmZ8GxAwPvVDEtGxyUmfbB1dtmrdDR6tmMv9HUATaippqU")),(0,o.kt)("p",null,"Steps to add a poll:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"click on the ",(0,o.kt)("inlineCode",{parentName:"li"},"ADD POLL")," button in the DApp's ",(0,o.kt)("a",{parentName:"li",href:"https://completium.github.io/poll-dapp"},"main panel")),(0,o.kt)("li",{parentName:"ol"},"paste the hash value in the ",(0,o.kt)("em",{parentName:"li"},"IPFS hash")," field; the poll is then displayed for validation"),(0,o.kt)("li",{parentName:"ol"},"click the ",(0,o.kt)("inlineCode",{parentName:"li"},"SUBMIT")," button; it is then required to connect to a wallet (if not already logged in) and validate the transaction to the contract.")),(0,o.kt)("p",null,"Once submitted, the contract's owner (",(0,o.kt)("inlineCode",{parentName:"p"},"tz1h4CiqWxNe4UxSpkwXy617RM6DaK6NU76P"),") needs to validate the poll for it to appear in the main panel."),(0,o.kt)("h2",{id:"answer-a-poll"},"Answer a poll"),(0,o.kt)("p",null,"Steps to answer a poll:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"click on a poll in the DApp's ",(0,o.kt)("a",{parentName:"li",href:"https://completium.github.io/poll-dapp"},"main panel")),(0,o.kt)("li",{parentName:"ol"},"click on one of the possible answers"),(0,o.kt)("li",{parentName:"ol"},"click the ",(0,o.kt)("inlineCode",{parentName:"li"},"SUBMIT")," button; it is then required to connect to a wallet (if not already logged in) and validate the transaction to the contract")),(0,o.kt)("p",null,"Once the transaction is validated on the blockchain, the statistic of the poll (number of answers per possible answer) is displayed."))}w.isMDXComponent=!0},2321:function(t,e){e.Z={divider:"divider_LuCZ",gradient:"gradient_kJ7D"}}}]);